<?xml version="1.0"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://kls.red</id>
    <title>旺笔迹</title>
    <subtitle>傀儡师の后院</subtitle>
    <icon>https://kls.red/images/favicon.ico</icon>
    <link href="https://kls.red" />
    <author>
      <name>KLS</name>
    </author>
    <updated>2023-07-04T09:49:28.000Z</updated>
    <category term="NAS" />
    <category term="群晖" />
    <category term="openwrt" />
    <category term="服务器" />
    <category term="emby" />
    <category term="plex" />
    <category term="青龙面板" />
    <category term="软件食用" />
    <category term="飞机场推荐" />
    <entry>
        <id>https://kls.red/posts/cbd7e20a.html</id>
        <title>Centos7 更换国内源</title>
        <link rel="alternate" href="https://kls.red/posts/cbd7e20a.html"/>
        <content type="html">&lt;h3 id=&#34;准备工作&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#准备工作&#34;&gt;#&lt;/a&gt; 准备工作&lt;/h3&gt;
&lt;p&gt;检查 wget 是否安装&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;wget&lt;/span&gt; &lt;span class=&#34;token parameter variable&#34;&gt;-V&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;安装&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;yum &lt;span class=&#34;token function&#34;&gt;install&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;wget&lt;/span&gt; &lt;span class=&#34;token parameter variable&#34;&gt;-y&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h3 id=&#34;备份原有yum源&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#备份原有yum源&#34;&gt;#&lt;/a&gt; 备份原有 yum 源&lt;/h3&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;mv&lt;/span&gt; /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.backup&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h3 id=&#34;选择可用的yum源&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#选择可用的yum源&#34;&gt;#&lt;/a&gt; 选择可用的 yum 源&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;阿里云&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;wget&lt;/span&gt; &lt;span class=&#34;token parameter variable&#34;&gt;-O&lt;/span&gt; /etc/yum.repos.d/CentOS-Base.repo https://mirrors.aliyun.com/repo/Centos-7.repo&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&lt;strong&gt;163&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;wget&lt;/span&gt; &lt;span class=&#34;token parameter variable&#34;&gt;-O&lt;/span&gt; /etc/yum.repos.d/CentOS-Base.repo http://mirrors.163.com/.help/CentOS7-Base-163.repo&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h3 id=&#34;生成缓存&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#生成缓存&#34;&gt;#&lt;/a&gt; 生成缓存&lt;/h3&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;yum clean all  &lt;span class=&#34;token comment&#34;&gt;# 清除 yum 缓存&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;yum makecache  &lt;span class=&#34;token comment&#34;&gt;# 重建缓存&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;yum &lt;span class=&#34;token parameter variable&#34;&gt;-y&lt;/span&gt; update  &lt;span class=&#34;token comment&#34;&gt;# 升级所有包&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</content>
        <category term="系统配置" scheme="https://kls.red/categories/xtpz/" />
        <category term="Linux" scheme="https://kls.red/categories/xtpz/course-1/" />
        <category term="Linux" scheme="https://kls.red/tags/Linux/" />
        <category term="Centos7更换国内源" scheme="https://kls.red/tags/Centos7%E6%9B%B4%E6%8D%A2%E5%9B%BD%E5%86%85%E6%BA%90/" />
        <updated>2023-07-04T09:49:28.000Z</updated>
    </entry>
    <entry>
        <id>https://kls.red/posts/c0671422.html</id>
        <title>docker安装 MySQL8.0.23</title>
        <link rel="alternate" href="https://kls.red/posts/c0671422.html"/>
        <content type="html">&lt;h3 id=&#34;下载安装&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#下载安装&#34;&gt;#&lt;/a&gt; 下载安装&lt;/h3&gt;
&lt;h4 id=&#34;第一步在hubdockercom上搜索mysql镜像&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#第一步在hubdockercom上搜索mysql镜像&#34;&gt;#&lt;/a&gt; 第一步：在&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9odWIuZG9ja2VyLmNvbS8=&#34;&gt; hub.docker.com&lt;/span&gt; 上搜索 mysql 镜像&lt;/h4&gt;
&lt;h4 id=&#34;第二步拉取指定版本的mysql&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#第二步拉取指定版本的mysql&#34;&gt;#&lt;/a&gt; 第二步：拉取指定版本的 mysql&lt;/h4&gt;
&lt;p&gt;也可以指定拉取版本，例如：&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt; pull mysql:8.0.23&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h4 id=&#34;第三步检查mysql镜像&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#第三步检查mysql镜像&#34;&gt;#&lt;/a&gt; 第三步：检查 mysql 镜像&lt;/h4&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt; images&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h4 id=&#34;第四步启动运行mysql镜像-docker-run-用于启动一个容器&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#第四步启动运行mysql镜像-docker-run-用于启动一个容器&#34;&gt;#&lt;/a&gt; 第四步：启动运行 mysql 镜像 (docker run 用于启动一个容器)&lt;/h4&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt; run &lt;span class=&#34;token parameter variable&#34;&gt;-p&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;3306&lt;/span&gt;:3306 &lt;span class=&#34;token parameter variable&#34;&gt;--name&lt;/span&gt; mysql &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token parameter variable&#34;&gt;-v&lt;/span&gt; /usr/local/docker/mysql/mysql-files:/var/lib/mysql-files &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token parameter variable&#34;&gt;-v&lt;/span&gt; /usr/local/docker/mysql/conf:/etc/mysql &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token parameter variable&#34;&gt;-v&lt;/span&gt; /usr/local/docker/mysql/logs:/var/log/mysql &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token parameter variable&#34;&gt;-v&lt;/span&gt; /usr/local/docker/mysql/data:/var/lib/mysql &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token parameter variable&#34;&gt;-e&lt;/span&gt; &lt;span class=&#34;token assign-left variable&#34;&gt;MYSQL_ROOT_PASSWORD&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;root &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token parameter variable&#34;&gt;-d&lt;/span&gt; mysql:8.0.23&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;假如安装过程中失败了，则可通过 docker ps -a 查看以前的容器，假如已存在，则通过 docker rm 镜像 id 删除再重新安装即可。&lt;/p&gt;
&lt;h4 id=&#34;第五步停止mysql服务可选&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#第五步停止mysql服务可选&#34;&gt;#&lt;/a&gt; 第五步：停止 mysql 服务（可选）&lt;/h4&gt;
&lt;p&gt;执行完第四个步骤（启动运行 mysql 镜像），mysql 就会自动启动了，假如需要停止这个&lt;/p&gt;
&lt;p&gt;服务可以执行：&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt; stop mysql&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h4 id=&#34;第六步启动mysql服务&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#第六步启动mysql服务&#34;&gt;#&lt;/a&gt; 第六步：启动 mysql 服务&lt;/h4&gt;
&lt;p&gt;假如 mysql 服务没有启动运行，但是 mysql 容器是存在的，可以通过如下方式启动 mysql。&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;docker &lt;span class=&#34;token keyword&#34;&gt;start&lt;/span&gt; mysql&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;假如希望查看 mysql 启动时的日志，可以执行 docker container logs mysql 这个指令。&lt;/p&gt;
&lt;h4 id=&#34;第七步查看docker启动的服务&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#第七步查看docker启动的服务&#34;&gt;#&lt;/a&gt; 第七步：查看 docker 启动的服务&lt;/h4&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;ps&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h4 id=&#34;第八步进入容器-退出容器用exit&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#第八步进入容器-退出容器用exit&#34;&gt;#&lt;/a&gt; 第八步：进入容器 (退出容器用 exit)&lt;/h4&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt; &lt;span class=&#34;token builtin class-name&#34;&gt;exec&lt;/span&gt; &lt;span class=&#34;token parameter variable&#34;&gt;-it&lt;/span&gt; mysql &lt;span class=&#34;token function&#34;&gt;bash&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h4 id=&#34;第九步登陆默认密码root一定要先进入mysql容器&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#第九步登陆默认密码root一定要先进入mysql容器&#34;&gt;#&lt;/a&gt; 第九步：登陆 (默认密码 root)，一定要先进入 mysql 容器。&lt;/h4&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;mysql &lt;span class=&#34;token parameter variable&#34;&gt;-uroot&lt;/span&gt; &lt;span class=&#34;token parameter variable&#34;&gt;-proot&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h4 id=&#34;第十步设置mysql开机自启动可选&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#第十步设置mysql开机自启动可选&#34;&gt;#&lt;/a&gt; 第十步：设置 mysql 开机自启动（可选）&lt;/h4&gt;
&lt;figure class=&#34;highlight ini&#34;&gt;&lt;figcaption data-lang=&#34;ini&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token key attr-name&#34;&gt;docker update mysql --restart&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token value attr-value&#34;&gt;always&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;如何重启 mysql 服务？&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt; restart mysql&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;查看 MySQL 安装到哪了？&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;whereis&lt;/span&gt; mysql&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;连接 MySQL 时要注意&lt;/p&gt;
&lt;p&gt;第一步：关闭 linux 宿主机的防火墙 (假如直击连接), 命令忘了可以通过搜索引擎查。&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; systemctl stop firewalld.service&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;第二步：重启 docker&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; systemctl restart &lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;第三步：启动 mysql&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;docker &lt;span class=&#34;token keyword&#34;&gt;start&lt;/span&gt; mysql&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h3 id=&#34;navacat连接mysql&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#navacat连接mysql&#34;&gt;#&lt;/a&gt; Navacat 连接 MySQL&lt;/h3&gt;
&lt;p&gt;连接 mysql 如果遇到以下问题可以这样解决&lt;/p&gt;
&lt;p&gt;问题描述：&lt;/p&gt;
&lt;figure class=&#34;highlight arduino&#34;&gt;&lt;figcaption data-lang=&#34;arduino&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token number&#34;&gt;1251&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt;client does &lt;span class=&#34;token operator&#34;&gt;not&lt;/span&gt; support authentication protocol requesred by server&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;consider upgrading MySQL &lt;span class=&#34;token builtin&#34;&gt;Client&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;解决办法：&lt;/p&gt;
&lt;h4 id=&#34;1mysql容器内部&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#1mysql容器内部&#34;&gt;#&lt;/a&gt; （1）mysql 容器内部&lt;/h4&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt; &lt;span class=&#34;token builtin class-name&#34;&gt;exec&lt;/span&gt; &lt;span class=&#34;token parameter variable&#34;&gt;-it&lt;/span&gt; mysql &lt;span class=&#34;token function&#34;&gt;bash&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h4 id=&#34;2进入mysql&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#2进入mysql&#34;&gt;#&lt;/a&gt; （2）进入 mysql&lt;/h4&gt;
&lt;figure class=&#34;highlight css&#34;&gt;&lt;figcaption data-lang=&#34;CSS&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;mysql -u root -p root&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;输入密码 root&lt;/p&gt;
&lt;h4 id=&#34;3使用mysql数据库&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#3使用mysql数据库&#34;&gt;#&lt;/a&gt; （3）使用 mysql 数据库&lt;/h4&gt;
&lt;figure class=&#34;highlight perl&#34;&gt;&lt;figcaption data-lang=&#34;perl&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;use&lt;/span&gt; user&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h4 id=&#34;4查看用户信息&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#4查看用户信息&#34;&gt;#&lt;/a&gt; （4）查看用户信息&lt;/h4&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;select&lt;/span&gt; host&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token keyword&#34;&gt;user&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;plugin&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;authentication_string &lt;span class=&#34;token keyword&#34;&gt;from&lt;/span&gt; mysql&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token keyword&#34;&gt;user&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;备注：host 为 % 表示不限制 ip localhost 表示本机使用 plugin 非 mysql_native_password 则需要修改密码&lt;/p&gt;
&lt;h4 id=&#34;5修改用户密码&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#5修改用户密码&#34;&gt;#&lt;/a&gt; （5）修改用户密码&lt;/h4&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;ALTER&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;USER&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;root&#39;&lt;/span&gt;&lt;span class=&#34;token variable&#34;&gt;@&#39;%&#39;&lt;/span&gt; IDENTIFIED &lt;span class=&#34;token keyword&#34;&gt;WITH&lt;/span&gt; mysql_native_password &lt;span class=&#34;token keyword&#34;&gt;BY&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;123456&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h4 id=&#34;6更新user为roothost为-的密码为123456&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#6更新user为roothost为-的密码为123456&#34;&gt;#&lt;/a&gt; （6）更新 user 为 root，host 为 % 的密码为 123456&lt;/h4&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption data-lang=&#34;SQL&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;ALTER&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;USER&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;root&#39;&lt;/span&gt;&lt;span class=&#34;token variable&#34;&gt;@&#39;localhost&#39;&lt;/span&gt; IDENTIFIED &lt;span class=&#34;token keyword&#34;&gt;WITH&lt;/span&gt; mysql_native_password &lt;span class=&#34;token keyword&#34;&gt;BY&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;123456&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;更新 user 为 root，host 为 localhost 的密码为 123456&lt;/p&gt;
&lt;h4 id=&#34;7再次连接即可成功&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#7再次连接即可成功&#34;&gt;#&lt;/a&gt; （7）再次连接即可成功！&lt;/h4&gt;
</content>
        <category term="系统配置" scheme="https://kls.red/categories/xtpz/" />
        <category term="Docker" scheme="https://kls.red/categories/xtpz/course-2/" />
        <category term="MySQL安装" scheme="https://kls.red/tags/MySQL%E5%AE%89%E8%A3%85/" />
        <category term="docker" scheme="https://kls.red/tags/docker/" />
        <updated>2023-07-04T09:37:55.000Z</updated>
    </entry>
    <entry>
        <id>https://kls.red/posts/6a31c4a2.html</id>
        <title>Debian 10/11更换国内源，解决系统无法更新问题</title>
        <link rel="alternate" href="https://kls.red/posts/6a31c4a2.html"/>
        <content type="html">&lt;h5 id=&#34;1-备份现有源&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#1-备份现有源&#34;&gt;#&lt;/a&gt; 1、备份现有源&lt;/h5&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;cp&lt;/span&gt; /etc/apt/sources.list /etc/apt/sources.list_bak&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h5 id=&#34;2-一般情况下将-etcaptsourceslist-文件中-debian-默认的源地址-httpdebdebianorg-替换为国内源即可&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#2-一般情况下将-etcaptsourceslist-文件中-debian-默认的源地址-httpdebdebianorg-替换为国内源即可&#34;&gt;#&lt;/a&gt; 2、一般情况下，将 /etc/apt/sources.list 文件中 Debian 默认的源地址 &lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cDovL2RlYi5kZWJpYW4ub3JnLw==&#34;&gt;http://deb.debian.org/&lt;/span&gt; 替换为国内源即可。&lt;/h5&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;#中国科技大学&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;sed&lt;/span&gt; &lt;span class=&#34;token parameter variable&#34;&gt;-i&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;s/deb.debian.org/mirrors.ustc.edu.cn/g&#39;&lt;/span&gt;/etc/apt/sources.list&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;#网易云 163&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;sed&lt;/span&gt; &lt;span class=&#34;token parameter variable&#34;&gt;-i&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;s/deb.debian.org/mirrors.163.com/g&#39;&lt;/span&gt;/etc/apt/sources.list&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;#阿里云&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;sed&lt;/span&gt; &lt;span class=&#34;token parameter variable&#34;&gt;-i&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;s/deb.debian.org/mirrors.aliyun.com/g&#39;&lt;/span&gt;/etc/apt/sources.list&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;#清华同方&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;sed&lt;/span&gt; &lt;span class=&#34;token parameter variable&#34;&gt;-i&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;s/deb.debian.org/mirrors.tuna.tsinghua.edu.cn/g&#39;&lt;/span&gt;/etc/apt/sources.list&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h5 id=&#34;3-sudo-apt-get-update-更新索引以生效&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#3-sudo-apt-get-update-更新索引以生效&#34;&gt;#&lt;/a&gt; 3、 &lt;code&gt;sudo apt-get update &lt;/code&gt; 更新索引以生效。&lt;/h5&gt;
</content>
        <category term="系统配置" scheme="https://kls.red/categories/xtpz/" />
        <category term="Linux" scheme="https://kls.red/categories/xtpz/course-1/" />
        <category term="Linux" scheme="https://kls.red/tags/Linux/" />
        <category term="Debian更换国内源" scheme="https://kls.red/tags/Debian%E6%9B%B4%E6%8D%A2%E5%9B%BD%E5%86%85%E6%BA%90/" />
        <updated>2023-07-04T00:17:06.000Z</updated>
    </entry>
    <entry>
        <id>https://kls.red/posts/a42a1d2d.html</id>
        <title>Screen 安装与实际使用命令</title>
        <link rel="alternate" href="https://kls.red/posts/a42a1d2d.html"/>
        <content type="html">&lt;p&gt;Screen 是一个在 Linux 系统下非常有用的终端工具，它可以在单个终端会话中创建多个虚拟终端，并且可以在后台运行终端会话。这篇文章将向您介绍如何在 Linux 系统中使用 Screen 工具，并提供一些实用的示例。&lt;/p&gt;
&lt;h2 id=&#34;安装-screen&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#安装-screen&#34;&gt;#&lt;/a&gt; &lt;strong&gt;安装 Screen&lt;/strong&gt;&lt;/h2&gt;
&lt;p&gt;在大多数 Linux 发行版中，您可以使用系统自带的包管理器来安装 Screen。例如，在 Ubuntu 中，可以使用以下命令来安装 Screen：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;centos&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;yun &lt;span class=&#34;token function&#34;&gt;install&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;screen&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;ul&gt;
&lt;li&gt;ubuntu/debian&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;apt-get&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;install&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;screen&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h2 id=&#34;基本使用&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#基本使用&#34;&gt;#&lt;/a&gt; &lt;strong&gt;基本使用&lt;/strong&gt;&lt;/h2&gt;
&lt;p&gt;使用 Screen 最基本的命令是  &lt;code&gt;screen&lt;/code&gt; ，它可以创建一个新的终端会话。当您运行这个命令时，Screen 会在当前终端中创建一个新的虚拟终端，并进入到这个终端中。您可以在这个终端中运行任何命令，就像在普通的终端中一样。&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;screen&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;要退出当前的 Screen 会话，可以使用  &lt;code&gt;exit&lt;/code&gt;  命令或者按下  &lt;code&gt;Ctrl&lt;/code&gt;  +  &lt;code&gt;a&lt;/code&gt; ，然后再按下  &lt;code&gt;d&lt;/code&gt;  键。这样会将当前的 Screen 会话移动到后台，并返回到原来的终端中。&lt;/p&gt;
&lt;p&gt;如果您想重新进入一个已经存在的 Screen 会话，可以使用  &lt;code&gt;screen -r&lt;/code&gt;  命令，并指定会话的 ID 或名称。例如，要重新进入 ID 为 12345 的 Screen 会话，可以使用以下命令：&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;screen&lt;/span&gt; &lt;span class=&#34;token parameter variable&#34;&gt;-r&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;12345&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h2 id=&#34;创建窗口和面板&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#创建窗口和面板&#34;&gt;#&lt;/a&gt; &lt;strong&gt;创建窗口和面板&lt;/strong&gt;&lt;/h2&gt;
&lt;p&gt;在 Screen 会话中，您可以创建多个窗口和面板，以便在同一个终端会话中同时运行多个程序。&lt;/p&gt;
&lt;p&gt;要创建一个新窗口，请使用  &lt;code&gt;Ctrl&lt;/code&gt;  +  &lt;code&gt;a&lt;/code&gt; ，然后再按下  &lt;code&gt;c&lt;/code&gt;  键。这样会在当前的 Screen 会话中创建一个新窗口，并将光标移动到这个窗口中。您可以在这个窗口中运行任何命令，就像在一个新的终端中一样。&lt;/p&gt;
&lt;p&gt;要在当前的窗口中创建一个新的面板，请使用  &lt;code&gt;Ctrl&lt;/code&gt;  +  &lt;code&gt;a&lt;/code&gt; ，然后再按下  &lt;code&gt;|&lt;/code&gt;  或  &lt;code&gt;%&lt;/code&gt;  键。这样会将当前的窗口分成两个部分，并在其中一个部分中创建一个新面板。您可以在这个新面板中运行任何命令，就像在一个新的终端中一样。&lt;/p&gt;
&lt;h2 id=&#34;列出会话&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#列出会话&#34;&gt;#&lt;/a&gt; &lt;strong&gt;列出会话&lt;/strong&gt;&lt;/h2&gt;
&lt;p&gt;要列出所有正在运行的 Screen 会话，可以使用  &lt;code&gt;screen -ls&lt;/code&gt;  命令。这个命令会显示所有正在运行的 Screen 会话的 ID、名称和状态。&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;screen&lt;/span&gt; &lt;span class=&#34;token parameter variable&#34;&gt;-ls&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h2 id=&#34;断开会话&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#断开会话&#34;&gt;#&lt;/a&gt; &lt;strong&gt;断开会话&lt;/strong&gt;&lt;/h2&gt;
&lt;p&gt;要完全断开一个 Screen 会话，可以使用  &lt;code&gt;screen -X -S session_id quit&lt;/code&gt;  命令，其中  &lt;code&gt;session_id&lt;/code&gt;  是会话的 ID 或名称。这个命令会强制关闭这个会话，并杀死会话中的所有进程。请注意，这个命令会立即关闭会话，而不会给进程任何时间来进行清理工作。因此，在使用这个命令之前，请确保您已经保存了所有的数据并且没有未完成的操作。&lt;/p&gt;
&lt;h2 id=&#34;其他命令&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#其他命令&#34;&gt;#&lt;/a&gt; &lt;strong&gt;其他命令&lt;/strong&gt;&lt;/h2&gt;
&lt;p&gt;以下是一些其他常用的 Screen 命令：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Ctrl&lt;/code&gt;  +  &lt;code&gt;a&lt;/code&gt; ，然后再按下  &lt;code&gt;n&lt;/code&gt;  键：切换到下一个窗口。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Ctrl&lt;/code&gt;  +  &lt;code&gt;a&lt;/code&gt; ，然后再按下  &lt;code&gt;p&lt;/code&gt;  键：切换到上一个窗口。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Ctrl&lt;/code&gt;  +  &lt;code&gt;a&lt;/code&gt; ，然后再按下  &lt;code&gt;d&lt;/code&gt;  键：将当前的 Screen 会话移动到后台。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Ctrl&lt;/code&gt;  +  &lt;code&gt;a&lt;/code&gt; ，然后再按下  &lt;code&gt;?&lt;/code&gt;  键：显示所有可用的 Screen 命令。&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;示例&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#示例&#34;&gt;#&lt;/a&gt; &lt;strong&gt;示例&lt;/strong&gt;&lt;/h2&gt;
&lt;p&gt;以下是一个使用 Screen 的示例：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;在终端中运行  &lt;code&gt;screen&lt;/code&gt;  命令，创建一个新的 Screen 会话。&lt;/li&gt;
&lt;li&gt;在新的 Screen 会话中运行  &lt;code&gt;top&lt;/code&gt;  命令，查看系统资源使用情况。&lt;/li&gt;
&lt;li&gt;使用  &lt;code&gt;Ctrl&lt;/code&gt;  +  &lt;code&gt;a&lt;/code&gt; ，然后再按下  &lt;code&gt;c&lt;/code&gt;  键，创建一个新窗口。&lt;/li&gt;
&lt;li&gt;在新的窗口中运行  &lt;code&gt;ping www.google.com&lt;/code&gt;  命令，测试网络连接。&lt;/li&gt;
&lt;li&gt;使用  &lt;code&gt;Ctrl&lt;/code&gt;  +  &lt;code&gt;a&lt;/code&gt; ，然后再按下  &lt;code&gt;%&lt;/code&gt;  键，将当前的窗口分成两个面板。&lt;/li&gt;
&lt;li&gt;在新的面板中运行  &lt;code&gt;htop&lt;/code&gt;  命令，查看系统资源使用情况。&lt;/li&gt;
&lt;li&gt;使用  &lt;code&gt;Ctrl&lt;/code&gt;  +  &lt;code&gt;a&lt;/code&gt; ，然后再按下  &lt;code&gt;n&lt;/code&gt;  键，切换到下一个窗口。&lt;/li&gt;
&lt;li&gt;使用  &lt;code&gt;Ctrl&lt;/code&gt;  +  &lt;code&gt;a&lt;/code&gt; ，然后再按下  &lt;code&gt;d&lt;/code&gt;  键，将 Screen 会话移动到后台。&lt;/li&gt;
&lt;li&gt;使用  &lt;code&gt;screen -ls&lt;/code&gt;  命令，查看所有正在运行的 Screen 会话。&lt;/li&gt;
&lt;li&gt;使用  &lt;code&gt;screen -r&lt;/code&gt;  命令，重新进入之前创建的 Screen 会话。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;以上示例展示了如何在一个 Screen 会话中同时运行多个程序，并在不同的窗口和面板中查看它们的输出。您可以根据自己的需求，使用 Screen 来管理终端会话，提高工作效率。&lt;/p&gt;
</content>
        <category term="系统配置" scheme="https://kls.red/categories/xtpz/" />
        <category term="Linux" scheme="https://kls.red/categories/xtpz/course-1/" />
        <category term="Linux" scheme="https://kls.red/tags/Linux/" />
        <category term="远程ssh" scheme="https://kls.red/tags/%E8%BF%9C%E7%A8%8Bssh/" />
        <category term="后台运行" scheme="https://kls.red/tags/%E5%90%8E%E5%8F%B0%E8%BF%90%E8%A1%8C/" />
        <updated>2023-07-04T00:10:46.000Z</updated>
    </entry>
    <entry>
        <id>https://kls.red/posts/8976dd96.html</id>
        <title>Openwrt挂载网盘到本地教程</title>
        <link rel="alternate" href="https://kls.red/posts/8976dd96.html"/>
        <content type="html">&lt;h3 id=&#34;项目地址&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#项目地址&#34;&gt;#&lt;/a&gt; 项目地址&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;docker 挂载云盘 [Clouddrive]&lt;/strong&gt; &lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9odWIuZG9ja2VyLmNvbS9yL2Nsb3VkbmFzL2Nsb3VkZHJpdmU=&#34;&gt;https://hub.docker.com/r/cloudnas/clouddrive&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Windows 版本&lt;/strong&gt;&lt;br /&gt;
&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly93d3cubGFuem91Yi5jb20vYjA4eWt2ZDBoP3B3ZD1ocjR5&#34;&gt; https://www.lanzoub.com/b08ykvd0h&lt;/span&gt; 密码: hr4y&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Clouddrive 2 版本&lt;/strong&gt;&lt;br /&gt;
&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly93d3cubGFuem91Yi5jb20vYjA5MDE3ZW9iP3B3ZD0yaXUx&#34;&gt; https://www.lanzoub.com/b09017eob&lt;/span&gt; 密码：2iu1&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;演示过程视频&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#演示过程视频&#34;&gt;#&lt;/a&gt; 演示过程视频&lt;/h4&gt;
&lt;iframe width=&#34;720&#34; height=&#34;405&#34; frameborder=&#34;0&#34; src=&#34;https://www.ixigua.com/iframe/7008135204053189157?autoplay=0&#34; referrerpolicy=&#34;unsafe-url&#34; allowfullscreen&gt;&lt;/iframe&gt;
&lt;h4 id=&#34;cloud-drive-说明&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#cloud-drive-说明&#34;&gt;#&lt;/a&gt; Cloud Drive 说明：&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;理解一：&lt;br /&gt;
通过 Clouddrive 把网盘映射成本地磁盘直接使用，同时也提供一个统一的网盘浏览管理 web 界面&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;理解二：&lt;br /&gt;
Clouddrive 将云存储服务挂载为本地文件系统。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;理解三：&lt;br /&gt;
linux 下安装 cloudnas，相当于是挂了一块硬盘到 linux 下，硬盘内容是 115，再装 jellyfin 也好 emby 也好，都相当于访问本地硬盘进行整理&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;strong&gt;Cloud Drive 功能：&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;可转存 (json，.txt，115://xxx) 类型的 sha1&lt;/li&gt;
&lt;li&gt;外网访问，分享功能，免登录&lt;/li&gt;
&lt;li&gt;支持对云盘文件夹重命名&lt;/li&gt;
&lt;li&gt;jellyfin 客户端，电脑、手机上的浏览器，或者 jellyfin app，或者 kodi 都行&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;配置过程&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#配置过程&#34;&gt;#&lt;/a&gt; 配置过程&lt;/h4&gt;
&lt;div class=&#34;note info&#34;&gt;
&lt;p&gt;避坑 docker 安装空间不足，openwrt 一般只要不是自己 DIY 编译的很少有把 docker 分区编译够用的，只能通过挂载分区的方式来实现扩容。&lt;/p&gt;
&lt;/div&gt;
&lt;h4 id=&#34;安装空间不足解决方法&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#安装空间不足解决方法&#34;&gt;#&lt;/a&gt; 安装空间不足，解决方法&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;1. 创建分区或者添加新分区&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;一般添加的新的磁盘默认是看不到的，需要执行一下命令创建分区或者格式化成 ext4 才能在挂载点看到该分区。&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;a. 查看当前系统所有硬盘及分区情况：fdisk -l&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;b. 在指定的硬盘（例：/dev/sdb）上创建分区：fdisk /dev/sdb ， 根据提示进行下一步操作&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;如：查看帮助（h），新建分区（n），删除分区（d），查看分区情况（p）&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;c. 分区成功后，写分区表并退出（w）&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;d. 对新建分区（例：/dev/sda1）进行格式化：mkfs.ext4 /dev/sdb1&lt;/strong&gt;&lt;br /&gt;
 由于我自己的是虚拟机的环境，就直接添加一个分区，格式化后直接挂载了，如果是单个物理盘，而且已经安装了 openwrt，请根据命令创建新分区，格式化 ext4 后挂载即可 &amp;quot;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;http://web1.kls.red/webpic/image-20230705165609124.png&#34; alt=&#34;image-20230705165609124&#34; /&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;点击添加&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img data-src=&#34;http://web1.kls.red/webpic/image-20230705165552397.png&#34; alt=&#34;image-20230705165552397&#34; /&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;选择好分区和挂载目录，勾选上 启用此挂载点&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img data-src=&#34;http://web1.kls.red/webpic/image-20230705165541439.png&#34; alt=&#34;image-20230705165541439&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;在高级选项里选择 ext4，点击 保存 &amp;amp; 应用&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;然后重启 openwrt，一定要重启，不然不生效&lt;br /&gt;
生效后如下&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;http://web1.kls.red/webpic/image-20230705165525408.png&#34; alt=&#34;image-20230705165525408&#34; /&gt;&lt;/p&gt;
&lt;p&gt;把分区挂载到 opt 目录后，也就是 docker 的目录达到了扩容的目的&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;strong&gt;处理完扩容问题后，接下来进入安装阶段&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;通过 ssh 连接 openwrt 后&lt;/p&gt;
&lt;p&gt;开启 MountFlags&lt;/p&gt;
&lt;figure class=&#34;highlight abap&#34;&gt;&lt;figcaption data-lang=&#34;ABAP&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;mkdir -p /etc/systemd/system/docker&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;service&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;d/&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;cat &amp;lt;&amp;lt;EOF &lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; /etc/systemd/system/docker&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;service&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;d/clear_mount_propagation_flags&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;conf&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;[Service]&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;MountFlags=shared&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;EOF&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;mount --make&lt;span class=&#34;token token-operator punctuation&#34;&gt;-&lt;/span&gt;shared /opt&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&lt;strong&gt;然后&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;#CD1:&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt; run &lt;span class=&#34;token parameter variable&#34;&gt;-d&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;      &lt;span class=&#34;token parameter variable&#34;&gt;--name&lt;/span&gt; clouddrive &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;      &lt;span class=&#34;token parameter variable&#34;&gt;--restart&lt;/span&gt; unless-stopped &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;      &lt;span class=&#34;token parameter variable&#34;&gt;-v&lt;/span&gt; /opt/CloudNAS:/CloudNAS:shared &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;      &lt;span class=&#34;token parameter variable&#34;&gt;-v&lt;/span&gt; /opt/Config:/Config &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;      &lt;span class=&#34;token parameter variable&#34;&gt;--network&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;host&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;      &lt;span class=&#34;token parameter variable&#34;&gt;--pid&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;host&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;     &lt;span class=&#34;token parameter variable&#34;&gt;--privileged&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;10&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;     &lt;span class=&#34;token parameter variable&#34;&gt;--device&lt;/span&gt; /dev/fuse:/dev/fuse &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;11&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;     cloudnas/clouddrive&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;12&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;     &lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;13&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;#CD2     &lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;14&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;docker&lt;/span&gt; run &lt;span class=&#34;token parameter variable&#34;&gt;-d&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;15&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;      &lt;span class=&#34;token parameter variable&#34;&gt;--name&lt;/span&gt; clouddrive &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;16&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;      &lt;span class=&#34;token parameter variable&#34;&gt;--restart&lt;/span&gt; unless-stopped &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;17&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;      &lt;span class=&#34;token parameter variable&#34;&gt;--env&lt;/span&gt; &lt;span class=&#34;token assign-left variable&#34;&gt;CLOUDDRIVE_HOME&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;/Config &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;18&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;      &lt;span class=&#34;token parameter variable&#34;&gt;-v&lt;/span&gt; /opt/CloudNAS:/CloudNAS:shared &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;19&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;      &lt;span class=&#34;token parameter variable&#34;&gt;-v&lt;/span&gt; /opt/Config:/Config &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;20&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;      &lt;span class=&#34;token parameter variable&#34;&gt;--network&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;host&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;21&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;      &lt;span class=&#34;token parameter variable&#34;&gt;--pid&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;host&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;22&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;     &lt;span class=&#34;token parameter variable&#34;&gt;--privileged&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;23&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;     &lt;span class=&#34;token parameter variable&#34;&gt;--device&lt;/span&gt; /dev/fuse:/dev/fuse &lt;span class=&#34;token punctuation&#34;&gt;\&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;24&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;     cloudnas/clouddrive2-unstable&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;需要映射其他路径请参考官方 docker 说明&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;strong&gt;自此安装结束&lt;/strong&gt;&lt;br /&gt;
额，(⊙o⊙)… 这张图是挂载到局域网。。。。&lt;br /&gt;
&lt;img data-src=&#34;http://web1.kls.red/webpic/image-20230705165509247.png&#34; alt=&#34;image-20230705165509247&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;然后输入 openwrt 地址加端口号注册或者登录即可&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://cdn.jsdelivr.net/gh/msmkls/photo@main/2257722242.png&#34; alt=&#34;ksvzj7di.png&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;阿里云和 115 网盘可通过扫码登录&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;登录好网盘账号以后，电脑可以通过网络共享访问，例如：\192.168.1.1 把网盘映射到本地即可&lt;br /&gt;
&lt;img data-src=&#34;http://web1.kls.red/webpic/image-20230705165440182.png&#34; alt=&#34;image-20230705165440182&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;重启路由 docker 启动失败解决&lt;/strong&gt;&lt;br /&gt;
找到系统 --- 启动项 --- 本地启动脚本（拉到最底部）&lt;br /&gt;
&lt;img data-src=&#34;http://web1.kls.red/webpic/image-20230705165414219.png&#34; alt=&#34;image-20230705165414219&#34; /&gt;&lt;/p&gt;
&lt;p&gt;按照上图，把下面参数填到指定位置，保存应用，重启即可！&lt;/p&gt;
&lt;figure class=&#34;highlight abap&#34;&gt;&lt;figcaption data-lang=&#34;ABAP&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;mount --make&lt;span class=&#34;token token-operator punctuation&#34;&gt;-&lt;/span&gt;shared /opt&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h4 id=&#34;如果操作中命令错误或者需要删除可以用以下命令&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#如果操作中命令错误或者需要删除可以用以下命令&#34;&gt;#&lt;/a&gt; 如果操作中命令错误或者需要删除可以用以下命令。&lt;/h4&gt;
&lt;p&gt;ps：如果多容器请安需删除，删除其一，请注意不要使用全部删除&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;查看运行中的容器&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight abap&#34;&gt;&lt;figcaption data-lang=&#34;ABAP&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;docker ps&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&lt;strong&gt;进入容器&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight abap&#34;&gt;&lt;figcaption data-lang=&#34;ABAP&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;docker &lt;span class=&#34;token keyword&#34;&gt;exec&lt;/span&gt; -i -t containerId /bin/bash&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&lt;strong&gt;查看容器&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight abap&#34;&gt;&lt;figcaption data-lang=&#34;ABAP&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;docker ps -a&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&lt;strong&gt;启动指定容器 containerId 是容器的 ID&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight abap&#34;&gt;&lt;figcaption data-lang=&#34;ABAP&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;docker start containerId&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&lt;strong&gt;停止指定容器 containerId 是容器的 ID&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight abap&#34;&gt;&lt;figcaption data-lang=&#34;ABAP&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;docker &lt;span class=&#34;token keyword&#34;&gt;stop&lt;/span&gt; containerId&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&lt;strong&gt;删除指定容器 containerId 是容器的 ID&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight abap&#34;&gt;&lt;figcaption data-lang=&#34;ABAP&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;docker rm containerId&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&lt;strong&gt;查看镜像列表&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight abap&#34;&gt;&lt;figcaption data-lang=&#34;ABAP&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;docker images&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&lt;strong&gt;删除指定镜像 ImageId 是镜像的 Id&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight abap&#34;&gt;&lt;figcaption data-lang=&#34;ABAP&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;docker rmi ImageId&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h4 id=&#34;慎用以下全部命令&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#慎用以下全部命令&#34;&gt;#&lt;/a&gt; 慎用以下全部命令&lt;/h4&gt;
&lt;p&gt;删除全部容器和镜像命令&lt;br /&gt;
列出所有的容器 ID&lt;/p&gt;
&lt;figure class=&#34;highlight abap&#34;&gt;&lt;figcaption data-lang=&#34;ABAP&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;docker ps -aq&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;停止所有的容器&lt;/p&gt;
&lt;figure class=&#34;highlight abap&#34;&gt;&lt;figcaption data-lang=&#34;ABAP&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;docker &lt;span class=&#34;token keyword&#34;&gt;stop&lt;/span&gt; $&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;docker ps -aq&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;删除所有的容器&lt;/p&gt;
&lt;figure class=&#34;highlight abap&#34;&gt;&lt;figcaption data-lang=&#34;ABAP&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;docker rm $&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;docker ps -aq&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;删除所有的镜像&lt;/p&gt;
&lt;figure class=&#34;highlight abap&#34;&gt;&lt;figcaption data-lang=&#34;ABAP&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;docker rmi $&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;docker images -q&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;  &lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;docker image prune --force --all或者docker image prune -f -a &lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 删除所有不使用的镜像  &lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;docker container prune&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; 删除所有停止的容器&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h4 id=&#34;115网盘也可以通过cookie登录&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#115网盘也可以通过cookie登录&#34;&gt;#&lt;/a&gt; 115 网盘也可以通过 cookie 登录&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;1. 安装扩展&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9jaHJvbWUuZ29vZ2xlLmNvbS93ZWJzdG9yZS9kZXRhaWwvZWRpdHRoaXNjb29raWUvZm5nbWhubnBpbGhwbGFlZWRpZmhjY2Nlb21jbGdmYmc=&#34;&gt;editthiscookie&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Chrome 浏览器也可通过手机 115 扫码登录 115 账号&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2.cookie 设置及导出&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;http://web1.kls.red/webpic/image-20230705165330676.png&#34; alt=&#34;image-20230705165330676&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;http://web1.kls.red/webpic/image-20230705165304688.png&#34; alt=&#34;image-20230705165304688&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;http://web1.kls.red/webpic/image-20230705165247436.png&#34; alt=&#34;image-20230705165247436&#34; /&gt;&lt;/p&gt;
&lt;p&gt;PC:(浏览器建议 chrome，edge，firefox 最新版，不支持 ie 和 115 浏览器)&lt;/p&gt;
&lt;h4 id=&#34;小白答疑&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#小白答疑&#34;&gt;#&lt;/a&gt; 小白答疑：&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;cloudnas 的设计初衷&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;cloudnas 的设计初衷是不用下载直接使用的，为在线随机访问文件做了优化，没对下载进行优化。你可以试试不拷贝，直接访问。&lt;/p&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;分享出去给别人看会封号吗&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;别人访问你的分享看视频的时候，流量是从 115 到你的服务器，再走你的上行带宽到访问者，不会把 115 的直链分享出去&lt;/p&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;可否多台设备运行多个 clouddrive？&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;这种玩法需要注意一下 115 的异地登录风险，尽量不要异地登录&lt;/p&gt;
&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;何为彻底退出 Cloud Drive ？&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;右上角账号那的退出按钮&lt;/p&gt;
&lt;ol start=&#34;5&#34;&gt;
&lt;li&gt;可异地登陆否？&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;NO! 尽量不要异地运行多个 cloudnas 服务，跑同一个 115 账号。异地访问同一个 cloudnas 服务器没问题，这受控于网盘安全登录，例如：阿里云可在单账号允许 5 个设备登录这种，115 的受限于官方风控。&lt;/p&gt;
&lt;ol start=&#34;6&#34;&gt;
&lt;li&gt;Cloud Drive 支持生成 115sha1 吗？&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;不支持生成 115sha1&lt;/p&gt;
&lt;ol start=&#34;7&#34;&gt;
&lt;li&gt;想不起来密码？&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;后续会增加重设密码，但是云端不会保存密码，只保存密码的 md5，所以不会有找回密码的功能，另外需要说明，云盘账号信息是用你自己的密码加密的保存的，所以你忘记了密码的话，云盘账号也就无法找回了，需要重新设置，重置密码之后，所有云盘都需要重新登录了，我们没办法帮你找回你的云盘信息，基于这个考虑，我觉得找回密码其实没有太大意义，找回以后也得从头来过。实在想不起来密码的话，换个邮箱注册也是一样的。所以密码重置功能没有放到很高优先级&lt;/p&gt;
&lt;ol start=&#34;8&#34;&gt;
&lt;li&gt;可否加入百度网盘？&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;NO 百度网盘以前做过，后来他们改了接口，还抓了做 pandownload 的作者，我就不想碰了&lt;/p&gt;
&lt;ol start=&#34;9&#34;&gt;
&lt;li&gt;挂载不上？&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;换个盘符试试，要不重启一下服务看看&lt;br /&gt;
 windows 服务管理里面，重启名为 CloudDriveService 的服务&lt;br /&gt;
刚安装登录就挂不上？从这里下载 winfsp 安装包手动安装一次试试&lt;br /&gt;
&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9naXRodWIuY29tL2JpbGx6aXNzLWdoL3dpbmZzcC9yZWxlYXNlcy9kb3dubG9hZC92MS45L3dpbmZzcC0xLjkuMjEwOTYubXNp&#34;&gt; Test&lt;/span&gt;&lt;br /&gt;
&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9naXRodWIuY29tL2JpbGx6aXNzLWdoL3dpbmZzcC9yZWxlYXNlcy9kb3dubG9hZC92MS45L3dpbmZzcC0xLjkuMjEwOTYubXNp&#34;&gt;https://github.com/billziss-gh/winfsp/releases/download/v1.9/winfsp-1.9.21096.msi&lt;/span&gt;&lt;/p&gt;
&lt;ol start=&#34;10&#34;&gt;
&lt;li&gt;clouddrive 支持续传否？&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;现在的版本 115 已经支持续传了 (大佬很给力)&lt;/p&gt;
&lt;ol start=&#34;11&#34;&gt;
&lt;li&gt;从映射盘拷贝 115 文件速度&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;速度 3M-5M (群友实测) 单线程单文件速度&lt;/p&gt;
&lt;ol start=&#34;12&#34;&gt;
&lt;li&gt;内存空间占用？&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;在访问网盘上的文件时，clouddrive 确实在通过网络下载，但是数据放在内存里，不会占用本地空间&lt;/p&gt;
&lt;ol start=&#34;13&#34;&gt;
&lt;li&gt;win 挂载 115 网盘后资源管理器经常无响应&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;windows 文件管理器默认会获取文件的缩略图，有大量图片的时候尤其慢，解决办法是把文件管理器改成详细列表显示，不让它去生成缩略图&lt;/p&gt;
&lt;ol start=&#34;14&#34;&gt;
&lt;li&gt;挂载速度慢？试试整个盘都用详细列表模式&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;windows 版各种问题都是文件管理器要去读文件缩略图造成的，整个盘都用详细列表模式就清净了&lt;br /&gt;
&lt;img data-src=&#34;http://web1.kls.red/webpic/image-20230705165145640.png&#34; alt=&#34;image-20230705165145640&#34; /&gt;&lt;/p&gt;
&lt;p&gt;最好把整个盘都设置成常规项目，省得文件管理器去读取图片视频音频的元数据&lt;/p&gt;
&lt;ol start=&#34;15&#34;&gt;
&lt;li&gt;115 挂载本地，速度？&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;本地网速够的话，看 4K 蓝光没问题&lt;/p&gt;
&lt;ol start=&#34;16&#34;&gt;
&lt;li&gt;115 挂载目录里复制到本地速度&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;单线程速度 6~8M/s 校验速度比 115 浏览器快不少&lt;/p&gt;
&lt;ol start=&#34;17&#34;&gt;
&lt;li&gt;原盘播放效果&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;取决于本地速度，网盘速度没问题&lt;/p&gt;
&lt;ol start=&#34;18&#34;&gt;
&lt;li&gt;系统设置相关选项作用？&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img data-src=&#34;http://web1.kls.red/webpic/image-20230705165121506.png&#34; alt=&#34;image-20230705165121506&#34; /&gt;&lt;/p&gt;
&lt;p&gt;这里大部分都是内部调试用，最好不要乱改，第一个可以试试，如果去掉的话，不会自动从云盘刷新目录，曾经打开过的文件夹再打开会非常快，但是从别的终端修改过的内容就看不到了，除非手动点 web 界面的刷新按钮&lt;/p&gt;
&lt;ol start=&#34;19&#34;&gt;
&lt;li&gt;挂载设置里点击卸载按钮后，刷新不出页面？&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;重新安装一遍就行了！&lt;/p&gt;
&lt;ol start=&#34;20&#34;&gt;
&lt;li&gt;115 批量导入秒传失败？&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;应该排查权限的问题，CloudDrive 的路径默认都是对所有人有权限的，选不出来但是直接输入路径有效，说明 mount CloudDrive 的上级目录有权限&lt;br /&gt;
 115 对秒传请求进行了限速，导致批量导入失败，临时解决方法是在系统设置里把 MaxPreprocessTasks 设为 1&lt;/p&gt;
&lt;h5 id=&#34;其他&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#其他&#34;&gt;#&lt;/a&gt; 其他：&lt;/h5&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;有些系统 SYS_ADMIN 权限不足，需要 privileged 权限&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;群晖 docker 上 mount 出来的 CloudNAS 目录，可以直接 samba 分享给局域网使用&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;文件夹下载建议直接用 samba 共享出来，自己在系统文件管理器里 ctrl-c, ctrl-v&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;左键单击 (&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly90Lm1lL2Nsb3VkbmFzY2hhdC85NDc=&#34;&gt;https://t.me/cloudnaschat/947&lt;/span&gt;) 文件，可直接下载&lt;br /&gt;
&lt;img data-src=&#34;http://web1.kls.red/webpic/image-20230705164731959.png&#34; alt=&#34;image-20230705164731959&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Dropextract，Dropshare 这两个有隐藏功能……&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;8 月 4 日 115 妙传限速解决方法&lt;br /&gt;
 115 对秒传请求进行了限速，导致批量导入失败，临时解决方法是在系统设置里把 MaxPreprocessTasks 设为 1&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;如果有其他问题或建议，欢迎飞机联系开发作者&lt;br /&gt;
&lt;strong&gt;作者电报群：&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly90Lm1lL2Nsb3VkbmFzY2hhdA==&#34;&gt;https://t.me/cloudnaschat&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
</content>
        <category term="食用系列" scheme="https://kls.red/categories/syxl/" />
        <category term="Openwrt" scheme="https://kls.red/categories/syxl/course-1/" />
        <category term="openwrt" scheme="https://kls.red/tags/openwrt/" />
        <category term="clouddrive" scheme="https://kls.red/tags/clouddrive/" />
        <updated>2023-07-04T00:04:00.000Z</updated>
    </entry>
    <entry>
        <id>https://kls.red/posts/6346bbd.html</id>
        <title>clouddrive在linux（云主机/vps）下挂载过程</title>
        <link rel="alternate" href="https://kls.red/posts/6346bbd.html"/>
        <content type="html">&lt;h4 id=&#34;基本环境&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#基本环境&#34;&gt;#&lt;/a&gt; 基本环境&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;ps：&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;VPS（这里指的是网站服务器）或者本地计算机、虚拟机下的 linux 系统：Ubuntu、centos、Debian... 等 借助工具：docker （这里以宝塔面板为基础的图形界面，虽然熟悉后不怎么用，但方便初接触者）&lt;/li&gt;
&lt;li&gt;挂载到网站服务器上，clouddrive 不像其他挂载工具那样，只是分享下载，clouddrive 更纯粹，你可以把它理解成真实的硬盘，如果你 PHP 基础比较好，可以结合给视频站或下载站等使用，这里不多做赘述。&lt;/li&gt;
&lt;li&gt;这里有个问题挂载服务器应当遵守网盘使用条款使用，如果把阿里云盘挂载到其他国家的云服务器上，可能会触发账号的使用机制，阿里云盘条款不允许国外使用，如果在国外云主机使用可能会刷不出来二维码或登录不上，像 115 网盘可能会触发异地登录等风险，只要在国内包括香港，都没什么大问题）&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;以下演示仅供初步接触者参考使用，大佬请略过即可，较真抬杠的请进群找大佬们，谢谢支持！&lt;/p&gt;
&lt;h4 id=&#34;docker项目地址&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#docker项目地址&#34;&gt;#&lt;/a&gt; Docker 项目地址&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9odWIuZG9ja2VyLmNvbS9yL2Nsb3VkbmFzL2Nsb3VkZHJpdmU=&#34;&gt;cloudnas/clouddrive&lt;/span&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9odWIuZG9ja2VyLmNvbS9yL2Nsb3VkbmFzL2Nsb3VkZHJpdmUyLXVuc3RhYmxl&#34;&gt;clouddrive2-unstable&lt;/span&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;docker部署命令&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#docker部署命令&#34;&gt;#&lt;/a&gt; Docker 部署命令&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;根据 clouddrive 的命令，在 ssh 输入命令&lt;/li&gt;
&lt;/ol&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;mkdir&lt;/span&gt; &lt;span class=&#34;token parameter variable&#34;&gt;-p&lt;/span&gt; /etc/systemd/system/docker.service.d/&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;ul&gt;
&lt;li&gt;接着&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;cat&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;EOF&lt;span class=&#34;token bash punctuation&#34;&gt; &lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; /etc/systemd/system/docker.service.d/clear_mount_propagation_flags.conf&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;[Service]&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;MountFlags=shared&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;EOF&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;ul&gt;
&lt;li&gt;PS：执行完，没有任何提示就对了！&lt;/li&gt;
&lt;/ul&gt;
&lt;ol&gt;
&lt;li&gt;拉取 clouddrive 镜像部署&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;命令是结合 Ubuntu、centos、Debian 的相通目录结构 选择的目录为： &lt;code&gt;/mnt&lt;/code&gt;  下 进行部署 为主机中的映射卷启用共享挂载 &lt;code&gt;mount --make-shared /&lt;/code&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight css&#34;&gt;&lt;figcaption data-lang=&#34;CSS&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;mount --make-shared /&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;ul&gt;
&lt;li&gt;Ps: 可以通过 &lt;code&gt;df -h&lt;/code&gt;  命令查看宿主的挂载点，结合使用，例如我要挂载到 &lt;code&gt;/mnt&lt;/code&gt;  这个目录下，挂载点在 &lt;code&gt;/&lt;/code&gt;  目录下所以命令是上面的 &lt;code&gt;mount --make-shared /&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;如果过挂在成功把上面这条命令加到开机执行，不然主机重启会导致挂载失败&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img data-src=&#34;https://img.kls.red/i/2023/07/03/zbf0gi-0.png&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;如果挂载到其他目录下面，把下面 &lt;code&gt;/mnt&lt;/code&gt;  的路径 替换成你自己的即可&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;CD1：&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight lua&#34;&gt;&lt;figcaption data-lang=&#34;lua&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;docker run &lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt;d \&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;      &lt;span class=&#34;token comment&#34;&gt;--name clouddrive \&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;      &lt;span class=&#34;token comment&#34;&gt;--restart unless-stopped \&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;      &lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt;v &lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;mnt&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;CloudNAS&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;CloudNAS&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;shared \&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;      &lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt;v &lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;mnt&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;Config&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;Config \&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;      &lt;span class=&#34;token comment&#34;&gt;--network host \&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;      &lt;span class=&#34;token comment&#34;&gt;--pid host \&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;     &lt;span class=&#34;token comment&#34;&gt;--privileged \&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;     &lt;span class=&#34;token comment&#34;&gt;--device /dev/fuse:/dev/fuse \&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;10&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;     cloudnas&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;clouddrive&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&lt;strong&gt;CD2：&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight lua&#34;&gt;&lt;figcaption data-lang=&#34;lua&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;docker run &lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt;d \&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;      &lt;span class=&#34;token comment&#34;&gt;--name clouddrive \&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;      &lt;span class=&#34;token comment&#34;&gt;--restart unless-stopped \&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;      &lt;span class=&#34;token comment&#34;&gt;--env CLOUDDRIVE_HOME=/Config \&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;      &lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt;v &lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;mnt&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;CloudNAS&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;CloudNAS&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;shared \&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;      &lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt;v &lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;mnt&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;Config&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;Config \&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;      &lt;span class=&#34;token comment&#34;&gt;--network host \&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;      &lt;span class=&#34;token comment&#34;&gt;--pid host \&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;     &lt;span class=&#34;token comment&#34;&gt;--privileged \&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;10&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;     &lt;span class=&#34;token comment&#34;&gt;--device /dev/fuse:/dev/fuse \&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;11&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;     cloudnas&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;clouddrive2&lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt;unstable&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;执行之后没报错就说明部署成功了&lt;/p&gt;
&lt;p&gt;CD1 入口 IP:9798&lt;/p&gt;
&lt;p&gt;CD2 入口 IP:19798&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;常见问题&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#常见问题&#34;&gt;#&lt;/a&gt; 常见问题&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;安装部署后报错&lt;/strong&gt;  &lt;code&gt;Error response from daemon: Get https://registry-1.docker.io/v2/: Docker&lt;/code&gt;  之类的：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;重新执行该命令重试，有时候是受代理环境或者网络原因造成的&lt;/li&gt;
&lt;li&gt;排除 DNS 解析的问题&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;部署后 ip:9798 无法访问&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;一种是防火墙放行指定端口&lt;/li&gt;
&lt;li&gt;暴力的方式是直接关闭防火墙命令&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;虚拟机 &amp;amp; 本地 linux 下解决方法： centos：停止 firewall 防火墙&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight vbnet&#34;&gt;&lt;figcaption data-lang=&#34;VB.Net&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;systemctl &lt;span class=&#34;token keyword&#34;&gt;stop&lt;/span&gt; firewalld.service&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;关闭开机启动 firewall 防火墙命令&lt;/p&gt;
&lt;figure class=&#34;highlight vbnet&#34;&gt;&lt;figcaption data-lang=&#34;VB.Net&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;systemctl &lt;span class=&#34;token keyword&#34;&gt;stop&lt;/span&gt; firewalld.service&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;ul&gt;
&lt;li&gt;Ubuntu 关闭防火墙&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; ufw disable&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;ul&gt;
&lt;li&gt;Debian 关闭防火墙&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;/etc/init.d/ufw stop&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&lt;strong&gt;宝塔面板放行端口，具体百度即可&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;vps 服务器可结合上面的方法，或者在安全组中放行 9897 端口，宝塔面板放行该端口&lt;/strong&gt;&lt;/p&gt;
</content>
        <category term="系统配置" scheme="https://kls.red/categories/xtpz/" />
        <category term="Linux" scheme="https://kls.red/categories/xtpz/course-1/" />
        <category term="clouddrive" scheme="https://kls.red/tags/clouddrive/" />
        <category term="Linux" scheme="https://kls.red/tags/Linux/" />
        <updated>2023-07-03T09:12:24.000Z</updated>
    </entry>
    <entry>
        <id>https://kls.red/posts/9a43ef1.html</id>
        <title>X86 openwrt 如何将 CPU 模式设置为性能</title>
        <link rel="alternate" href="https://kls.red/posts/9a43ef1.html"/>
        <content type="html">&lt;h4 id=&#34;简述&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#简述&#34;&gt;#&lt;/a&gt; &lt;strong&gt;简述&lt;/strong&gt;&lt;/h4&gt;
&lt;p&gt;很多人在编译后或者好不容易拿到符合自己需求的系统包后，体验一直上不去，甚至有些使用 j1900CPU 感觉还不如硬件路由&lt;/p&gt;
&lt;p&gt;例如，开网页加载慢半拍、视频加载速度上不去的感觉（特别是油管），很大的原因都是由省电模式导致的。&lt;/p&gt;
&lt;p&gt;CPU 频率在编译后，不做优化的情况下。&lt;/p&gt;
&lt;p&gt;性能模式一直是省电模式运行，特别对于硬件配置低、或高配硬件达不到应有体验&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;实例：处理器： 英特尔（R） 赛扬（R） J4125 CPU @ 2.00GHz&lt;/strong&gt;&lt;/p&gt;
&lt;h4 id=&#34;通过&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#通过&#34;&gt;#&lt;/a&gt; &lt;strong&gt;通过&lt;/strong&gt;&lt;/h4&gt;
&lt;p&gt;命令查询当前频率&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;cat&lt;/span&gt; /proc/cpuinfo &lt;span class=&#34;token operator&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;grep&lt;/span&gt; MHz&lt;span class=&#34;token operator&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;uniq&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h4 id=&#34;结果&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#结果&#34;&gt;#&lt;/a&gt; &lt;strong&gt;结果&lt;/strong&gt;&lt;/h4&gt;
&lt;p&gt;为&lt;/p&gt;
&lt;figure class=&#34;highlight yaml&#34;&gt;&lt;figcaption data-lang=&#34;YAML&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token key atrule&#34;&gt;cpu MHz&lt;/span&gt;         &lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;1201.146&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token key atrule&#34;&gt;cpu MHz&lt;/span&gt;         &lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;1200.982&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token key atrule&#34;&gt;cpu MHz&lt;/span&gt;         &lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;1200.165&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token key atrule&#34;&gt;cpu MHz&lt;/span&gt;         &lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;1200.076&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h4 id=&#34;命令&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#命令&#34;&gt;#&lt;/a&gt; &lt;strong&gt;命令&lt;/strong&gt;&lt;/h4&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token builtin class-name&#34;&gt;cd&lt;/span&gt; /sys/devices/system/cpu/&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;通过上面命令可以看到核心数&lt;br /&gt;
例如： &lt;code&gt;cpu0 cpu1 cpu2 cpu3 ...&lt;/code&gt;&lt;/p&gt;
&lt;h4 id=&#34;查询&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#查询&#34;&gt;#&lt;/a&gt; &lt;strong&gt;查询&lt;/strong&gt;&lt;/h4&gt;
&lt;p&gt;查看当前运行 CPU 模式（这里是 CPU0 为例）&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;cat&lt;/span&gt; /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h4 id=&#34;结果-2&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#结果-2&#34;&gt;#&lt;/a&gt; &lt;strong&gt;结果&lt;/strong&gt;&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;powersave （节能模式）&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;performance （性能模式）&lt;/p&gt;
&lt;p&gt;需要说明的是，这里的性能模式，一般是指高频空载，非满载模式，满载类似烤机那种，&lt;/p&gt;
&lt;p&gt;空载只是把 CPU 核心频率以最高频率运行任务，致使硬件性能最大化。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;如果是节能模式，我们通过命令对每个核心做性能模式切换调整&lt;/p&gt;
&lt;h4 id=&#34;调整命令参考&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#调整命令参考&#34;&gt;#&lt;/a&gt; &lt;strong&gt;调整命令参考&lt;/strong&gt;&lt;/h4&gt;
&lt;figure class=&#34;highlight ruby&#34;&gt;&lt;figcaption data-lang=&#34;ruby&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;echo performance &lt;span class=&#34;token operator&#34;&gt;&gt;&gt;&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;sys&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;devices&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;system&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;cpu&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;cpufreq&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;policy0&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;scaling_governor&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;echo performance &lt;span class=&#34;token operator&#34;&gt;&gt;&gt;&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;sys&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;devices&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;system&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;cpu&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;cpufreq&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;policy1&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;scaling_governor&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;echo performance &lt;span class=&#34;token operator&#34;&gt;&gt;&gt;&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;sys&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;devices&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;system&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;cpu&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;cpufreq&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;policy2&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;scaling_governor&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;echo performance &lt;span class=&#34;token operator&#34;&gt;&gt;&gt;&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;sys&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;devices&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;system&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;cpu&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;cpufreq&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;policy3&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;scaling_governor&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;echo &lt;span class=&#34;token number&#34;&gt;2700000&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;sys&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;devices&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;system&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;cpu&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;cpufreq&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;policy0&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;scaling_min_freq&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;echo &lt;span class=&#34;token number&#34;&gt;2700000&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;sys&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;devices&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;system&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;cpu&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;cpufreq&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;policy1&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;scaling_min_freq&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;echo &lt;span class=&#34;token number&#34;&gt;2700000&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;sys&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;devices&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;system&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;cpu&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;cpufreq&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;policy2&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;scaling_min_freq&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;echo &lt;span class=&#34;token number&#34;&gt;2700000&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;sys&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;devices&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;system&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;cpu&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;cpufreq&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;policy3&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;scaling_min_freq&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;echo &lt;span class=&#34;token number&#34;&gt;2700000&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;sys&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;devices&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;system&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;cpu&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;cpufreq&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;policy0&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;scaling_min_freq&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;10&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;echo &lt;span class=&#34;token number&#34;&gt;2700000&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;sys&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;devices&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;system&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;cpu&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;cpufreq&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;policy1&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;scaling_min_freq&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;11&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;echo &lt;span class=&#34;token number&#34;&gt;2700000&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;sys&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;devices&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;system&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;cpu&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;cpufreq&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;policy2&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;scaling_min_freq&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;12&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;echo &lt;span class=&#34;token number&#34;&gt;2700000&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;sys&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;devices&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;system&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;cpu&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;cpufreq&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;policy3&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;scaling_min_freq&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&lt;strong&gt;其他系统上高性能模式，例如 centos 或 ubuntu&lt;/strong&gt; &lt;a href=&#34;http://xn--blog-9d0ix46agy8cj1fne.kls.red/&#34;&gt;&lt;strong&gt;转载请注明 blog.kls.red&lt;/strong&gt;&lt;/a&gt; &lt;strong&gt;.&lt;/strong&gt;&lt;/p&gt;
</content>
        <category term="系统配置" scheme="https://kls.red/categories/xtpz/" />
        <category term="Openwrt" scheme="https://kls.red/categories/xtpz/course-1/" />
        <category term="openwrt" scheme="https://kls.red/tags/openwrt/" />
        <category term="cpu高频空载模式" scheme="https://kls.red/tags/cpu%E9%AB%98%E9%A2%91%E7%A9%BA%E8%BD%BD%E6%A8%A1%E5%BC%8F/" />
        <updated>2023-07-01T13:13:18.802Z</updated>
    </entry>
</feed>
