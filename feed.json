{
    "version": "https://jsonfeed.org/version/1",
    "title": "BLOG",
    "subtitle": "",
    "icon": "https://msmkls.github.io/images/favicon.ico",
    "description": "",
    "home_page_url": "https://msmkls.github.io",
    "items": [
        {
            "id": "https://msmkls.github.io/posts/9a43ef1.html",
            "url": "https://msmkls.github.io/posts/9a43ef1.html",
            "title": "X86 openwrt 如何将 CPU 模式设置为性能",
            "date_published": "2023-07-01T13:13:18.802Z",
            "content_html": "<h4 id=\"简述\"><a class=\"markdownIt-Anchor\" href=\"#简述\">#</a> <strong>简述</strong></h4>\n<p>很多人在编译后或者好不容易拿到符合自己需求的系统包后，体验一直上不去，甚至有些使用 j1900CPU 感觉还不如硬件路由</p>\n<p>例如，开网页加载慢半拍、视频加载速度上不去的感觉（特别是油管），很大的原因都是由省电模式导致的。</p>\n<p>CPU 频率在编译后，不做优化的情况下。</p>\n<p>性能模式一直是省电模式运行，特别对于硬件配置低、或高配硬件达不到应有体验</p>\n<p><strong>实例：处理器： 英特尔（R） 赛扬（R） J4125 CPU @ 2.00GHz</strong></p>\n<h4 id=\"通过\"><a class=\"markdownIt-Anchor\" href=\"#通过\">#</a> <strong>通过</strong></h4>\n<p>命令查询当前频率</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">cat</span> /proc/cpuinfo <span class=\"token operator\">|</span><span class=\"token function\">grep</span> MHz<span class=\"token operator\">|</span><span class=\"token function\">uniq</span></pre></td></tr></table></figure><h4 id=\"结果\"><a class=\"markdownIt-Anchor\" href=\"#结果\">#</a> <strong>结果</strong></h4>\n<p>为</p>\n<figure class=\"highlight yaml\"><figcaption data-lang=\"YAML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token key atrule\">cpu MHz</span>         <span class=\"token punctuation\">:</span> <span class=\"token number\">1201.146</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token key atrule\">cpu MHz</span>         <span class=\"token punctuation\">:</span> <span class=\"token number\">1200.982</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token key atrule\">cpu MHz</span>         <span class=\"token punctuation\">:</span> <span class=\"token number\">1200.165</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token key atrule\">cpu MHz</span>         <span class=\"token punctuation\">:</span> <span class=\"token number\">1200.076</span></pre></td></tr></table></figure><h4 id=\"命令\"><a class=\"markdownIt-Anchor\" href=\"#命令\">#</a> <strong>命令</strong></h4>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token builtin class-name\">cd</span> /sys/devices/system/cpu/</pre></td></tr></table></figure><p>通过上面命令可以看到核心数<br>\n例如： <code>cpu0 cpu1 cpu2 cpu3 ...</code></p>\n<h4 id=\"查询\"><a class=\"markdownIt-Anchor\" href=\"#查询\">#</a> <strong>查询</strong></h4>\n<p>查看当前运行 CPU 模式（这里是 CPU0 为例）</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">cat</span> /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor</pre></td></tr></table></figure><h4 id=\"结果-2\"><a class=\"markdownIt-Anchor\" href=\"#结果-2\">#</a> <strong>结果</strong></h4>\n<ul>\n<li>\n<p>powersave （节能模式）</p>\n</li>\n<li>\n<p>performance （性能模式）</p>\n<p>需要说明的是，这里的性能模式，一般是指高频空载，非满载模式，满载类似烤机那种，</p>\n<p>空载只是把 CPU 核心频率以最高频率运行任务，致使硬件性能最大化。</p>\n</li>\n</ul>\n<p>如果是节能模式，我们通过命令对每个核心做性能模式切换调整</p>\n<h4 id=\"调整命令参考\"><a class=\"markdownIt-Anchor\" href=\"#调整命令参考\">#</a> <strong>调整命令参考</strong></h4>\n<figure class=\"highlight ruby\"><figcaption data-lang=\"ruby\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>echo performance <span class=\"token operator\">>></span> <span class=\"token operator\">/</span>sys<span class=\"token operator\">/</span>devices<span class=\"token operator\">/</span>system<span class=\"token operator\">/</span>cpu<span class=\"token operator\">/</span>cpufreq<span class=\"token operator\">/</span>policy0<span class=\"token operator\">/</span>scaling_governor</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>echo performance <span class=\"token operator\">>></span> <span class=\"token operator\">/</span>sys<span class=\"token operator\">/</span>devices<span class=\"token operator\">/</span>system<span class=\"token operator\">/</span>cpu<span class=\"token operator\">/</span>cpufreq<span class=\"token operator\">/</span>policy1<span class=\"token operator\">/</span>scaling_governor</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>echo performance <span class=\"token operator\">>></span> <span class=\"token operator\">/</span>sys<span class=\"token operator\">/</span>devices<span class=\"token operator\">/</span>system<span class=\"token operator\">/</span>cpu<span class=\"token operator\">/</span>cpufreq<span class=\"token operator\">/</span>policy2<span class=\"token operator\">/</span>scaling_governor</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>echo performance <span class=\"token operator\">>></span> <span class=\"token operator\">/</span>sys<span class=\"token operator\">/</span>devices<span class=\"token operator\">/</span>system<span class=\"token operator\">/</span>cpu<span class=\"token operator\">/</span>cpufreq<span class=\"token operator\">/</span>policy3<span class=\"token operator\">/</span>scaling_governor</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>echo <span class=\"token number\">2700000</span> <span class=\"token operator\">></span> <span class=\"token operator\">/</span>sys<span class=\"token operator\">/</span>devices<span class=\"token operator\">/</span>system<span class=\"token operator\">/</span>cpu<span class=\"token operator\">/</span>cpufreq<span class=\"token operator\">/</span>policy0<span class=\"token operator\">/</span>scaling_min_freq</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>echo <span class=\"token number\">2700000</span> <span class=\"token operator\">></span> <span class=\"token operator\">/</span>sys<span class=\"token operator\">/</span>devices<span class=\"token operator\">/</span>system<span class=\"token operator\">/</span>cpu<span class=\"token operator\">/</span>cpufreq<span class=\"token operator\">/</span>policy1<span class=\"token operator\">/</span>scaling_min_freq</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>echo <span class=\"token number\">2700000</span> <span class=\"token operator\">></span> <span class=\"token operator\">/</span>sys<span class=\"token operator\">/</span>devices<span class=\"token operator\">/</span>system<span class=\"token operator\">/</span>cpu<span class=\"token operator\">/</span>cpufreq<span class=\"token operator\">/</span>policy2<span class=\"token operator\">/</span>scaling_min_freq</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>echo <span class=\"token number\">2700000</span> <span class=\"token operator\">></span> <span class=\"token operator\">/</span>sys<span class=\"token operator\">/</span>devices<span class=\"token operator\">/</span>system<span class=\"token operator\">/</span>cpu<span class=\"token operator\">/</span>cpufreq<span class=\"token operator\">/</span>policy3<span class=\"token operator\">/</span>scaling_min_freq</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>echo <span class=\"token number\">2700000</span> <span class=\"token operator\">></span> <span class=\"token operator\">/</span>sys<span class=\"token operator\">/</span>devices<span class=\"token operator\">/</span>system<span class=\"token operator\">/</span>cpu<span class=\"token operator\">/</span>cpufreq<span class=\"token operator\">/</span>policy0<span class=\"token operator\">/</span>scaling_min_freq</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>echo <span class=\"token number\">2700000</span> <span class=\"token operator\">></span> <span class=\"token operator\">/</span>sys<span class=\"token operator\">/</span>devices<span class=\"token operator\">/</span>system<span class=\"token operator\">/</span>cpu<span class=\"token operator\">/</span>cpufreq<span class=\"token operator\">/</span>policy1<span class=\"token operator\">/</span>scaling_min_freq</pre></td></tr><tr><td data-num=\"11\"></td><td><pre>echo <span class=\"token number\">2700000</span> <span class=\"token operator\">></span> <span class=\"token operator\">/</span>sys<span class=\"token operator\">/</span>devices<span class=\"token operator\">/</span>system<span class=\"token operator\">/</span>cpu<span class=\"token operator\">/</span>cpufreq<span class=\"token operator\">/</span>policy2<span class=\"token operator\">/</span>scaling_min_freq</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>echo <span class=\"token number\">2700000</span> <span class=\"token operator\">></span> <span class=\"token operator\">/</span>sys<span class=\"token operator\">/</span>devices<span class=\"token operator\">/</span>system<span class=\"token operator\">/</span>cpu<span class=\"token operator\">/</span>cpufreq<span class=\"token operator\">/</span>policy3<span class=\"token operator\">/</span>scaling_min_freq</pre></td></tr></table></figure><p><strong>其他系统上高性能模式，例如 centos 或 ubuntu</strong> <a href=\"http://xn--blog-9d0ix46agy8cj1fne.kls.red/\"><strong>转载请注明 blog.kls.red</strong></a> <strong>.</strong></p>\n",
            "tags": [
                "食用系列",
                "openwrt",
                "cpu高频空载模式"
            ]
        },
        {
            "id": "https://msmkls.github.io/posts/4a17b156.html",
            "url": "https://msmkls.github.io/posts/4a17b156.html",
            "title": "Hello World",
            "date_published": "2023-07-01T13:13:18.786Z",
            "content_html": "<p>Welcome to <span class=\"exturl\" data-url=\"aHR0cHM6Ly9oZXhvLmlvLw==\">Hexo</span>! This is your very first post. Check <span class=\"exturl\" data-url=\"aHR0cHM6Ly9oZXhvLmlvL2RvY3Mv\">documentation</span> for more info. If you get any problems when using Hexo, you can find the answer in <span class=\"exturl\" data-url=\"aHR0cHM6Ly9oZXhvLmlvL2RvY3MvdHJvdWJsZXNob290aW5nLmh0bWw=\">troubleshooting</span> or you can ask me on <span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2hleG9qcy9oZXhvL2lzc3Vlcw==\">GitHub</span>.</p>\n<h2 id=\"quick-start\"><a class=\"markdownIt-Anchor\" href=\"#quick-start\">#</a> Quick Start</h2>\n<h3 id=\"create-a-new-post\"><a class=\"markdownIt-Anchor\" href=\"#create-a-new-post\">#</a> Create a new post</h3>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"><span>h</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre>$ hexo new <span class=\"token string\">\"My New Post\"</span></pre></td></tr></table></figure><p>More info: <span class=\"exturl\" data-url=\"aHR0cHM6Ly9oZXhvLmlvL2RvY3Mvd3JpdGluZy5odG1s\">Writing</span></p>\n<h3 id=\"run-server\"><a class=\"markdownIt-Anchor\" href=\"#run-server\">#</a> Run server</h3>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"><span>h</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre>$ hexo server</pre></td></tr></table></figure><p>More info: <span class=\"exturl\" data-url=\"aHR0cHM6Ly9oZXhvLmlvL2RvY3Mvc2VydmVyLmh0bWw=\">Server</span></p>\n<h3 id=\"generate-static-files\"><a class=\"markdownIt-Anchor\" href=\"#generate-static-files\">#</a> Generate static files</h3>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"><span>h</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre>$ hexo generate</pre></td></tr></table></figure><p>More info: <span class=\"exturl\" data-url=\"aHR0cHM6Ly9oZXhvLmlvL2RvY3MvZ2VuZXJhdGluZy5odG1s\">Generating</span></p>\n<h3 id=\"deploy-to-remote-sites\"><a class=\"markdownIt-Anchor\" href=\"#deploy-to-remote-sites\">#</a> Deploy to remote sites</h3>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"><span>h</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre>$ hexo deploy</pre></td></tr></table></figure><p>More info: <span class=\"exturl\" data-url=\"aHR0cHM6Ly9oZXhvLmlvL2RvY3Mvb25lLWNvbW1hbmQtZGVwbG95bWVudC5odG1s\">Deployment</span></p>\n",
            "tags": []
        }
    ]
}