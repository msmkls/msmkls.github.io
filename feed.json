{
    "version": "https://jsonfeed.org/version/1",
    "title": "旺笔迹",
    "subtitle": "傀儡师の后院",
    "icon": "https://kls.red/images/favicon.ico",
    "description": "日常学习，点滴记录，软硬件食用各种教程",
    "home_page_url": "https://kls.red",
    "items": [
        {
            "id": "https://kls.red/posts/cbd7e20a.html",
            "url": "https://kls.red/posts/cbd7e20a.html",
            "title": "Centos7 更换国内源",
            "date_published": "2023-07-04T09:49:28.000Z",
            "content_html": "<h4 id=\"准备工作\"><a class=\"markdownIt-Anchor\" href=\"#准备工作\">#</a> 准备工作</h4>\n<p>检查 wget 是否安装</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">wget</span> <span class=\"token parameter variable\">-V</span></pre></td></tr></table></figure><p>安装</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>yum <span class=\"token function\">install</span> <span class=\"token function\">wget</span> <span class=\"token parameter variable\">-y</span></pre></td></tr></table></figure><h5 id=\"1-备份原有yum源\"><a class=\"markdownIt-Anchor\" href=\"#1-备份原有yum源\">#</a> 1、备份原有 yum 源</h5>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">mv</span> /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.backup</pre></td></tr></table></figure><h5 id=\"2-选择可用的yum源\"><a class=\"markdownIt-Anchor\" href=\"#2-选择可用的yum源\">#</a> 2、选择可用的 yum 源</h5>\n<p><strong>阿里云</strong></p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">wget</span> <span class=\"token parameter variable\">-O</span> /etc/yum.repos.d/CentOS-Base.repo https://mirrors.aliyun.com/repo/Centos-7.repo</pre></td></tr></table></figure><p><strong>163</strong></p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">wget</span> <span class=\"token parameter variable\">-O</span> /etc/yum.repos.d/CentOS-Base.repo http://mirrors.163.com/.help/CentOS7-Base-163.repo</pre></td></tr></table></figure><h5 id=\"3-生成缓存\"><a class=\"markdownIt-Anchor\" href=\"#3-生成缓存\">#</a> 3、生成缓存</h5>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>yum clean all  <span class=\"token comment\"># 清除 yum 缓存</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>yum makecache  <span class=\"token comment\"># 重建缓存</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>yum <span class=\"token parameter variable\">-y</span> update  <span class=\"token comment\"># 升级所有包</span></pre></td></tr></table></figure>",
            "tags": [
                "知识点",
                "系统配置",
                "Linux",
                "Centos7国内源"
            ]
        },
        {
            "id": "https://kls.red/posts/c0671422.html",
            "url": "https://kls.red/posts/c0671422.html",
            "title": "docker安装 MySQL8.0.23",
            "date_published": "2023-07-04T09:37:55.000Z",
            "content_html": "<h3 id=\"下载安装\"><a class=\"markdownIt-Anchor\" href=\"#下载安装\">#</a> 下载安装</h3>\n<h4 id=\"第一步在hubdockercom上搜索mysql镜像\"><a class=\"markdownIt-Anchor\" href=\"#第一步在hubdockercom上搜索mysql镜像\">#</a> 第一步：在<span class=\"exturl\" data-url=\"aHR0cHM6Ly9odWIuZG9ja2VyLmNvbS8=\"> hub.docker.com</span> 上搜索 mysql 镜像</h4>\n<h4 id=\"第二步拉取指定版本的mysql\"><a class=\"markdownIt-Anchor\" href=\"#第二步拉取指定版本的mysql\">#</a> 第二步：拉取指定版本的 mysql</h4>\n<p>也可以指定拉取版本，例如：</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">sudo</span> <span class=\"token function\">docker</span> pull mysql:8.0.23</pre></td></tr></table></figure><h4 id=\"第三步检查mysql镜像\"><a class=\"markdownIt-Anchor\" href=\"#第三步检查mysql镜像\">#</a> 第三步：检查 mysql 镜像</h4>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">sudo</span> <span class=\"token function\">docker</span> images</pre></td></tr></table></figure><h4 id=\"第四步启动运行mysql镜像-docker-run-用于启动一个容器\"><a class=\"markdownIt-Anchor\" href=\"#第四步启动运行mysql镜像-docker-run-用于启动一个容器\">#</a> 第四步：启动运行 mysql 镜像 (docker run 用于启动一个容器)</h4>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">sudo</span> <span class=\"token function\">docker</span> run <span class=\"token parameter variable\">-p</span> <span class=\"token number\">3306</span>:3306 <span class=\"token parameter variable\">--name</span> mysql <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token parameter variable\">-v</span> /usr/local/docker/mysql/mysql-files:/var/lib/mysql-files <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token parameter variable\">-v</span> /usr/local/docker/mysql/conf:/etc/mysql <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token parameter variable\">-v</span> /usr/local/docker/mysql/logs:/var/log/mysql <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token parameter variable\">-v</span> /usr/local/docker/mysql/data:/var/lib/mysql <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token parameter variable\">-e</span> <span class=\"token assign-left variable\">MYSQL_ROOT_PASSWORD</span><span class=\"token operator\">=</span>root <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token parameter variable\">-d</span> mysql:8.0.23</pre></td></tr></table></figure><p>假如安装过程中失败了，则可通过 docker ps -a 查看以前的容器，假如已存在，则通过 docker rm 镜像 id 删除再重新安装即可。</p>\n<h4 id=\"第五步停止mysql服务可选\"><a class=\"markdownIt-Anchor\" href=\"#第五步停止mysql服务可选\">#</a> 第五步：停止 mysql 服务（可选）</h4>\n<p>执行完第四个步骤（启动运行 mysql 镜像），mysql 就会自动启动了，假如需要停止这个</p>\n<p>服务可以执行：</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">docker</span> stop mysql</pre></td></tr></table></figure><h4 id=\"第六步启动mysql服务\"><a class=\"markdownIt-Anchor\" href=\"#第六步启动mysql服务\">#</a> 第六步：启动 mysql 服务</h4>\n<p>假如 mysql 服务没有启动运行，但是 mysql 容器是存在的，可以通过如下方式启动 mysql。</p>\n<figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>docker <span class=\"token keyword\">start</span> mysql</pre></td></tr></table></figure><p>假如希望查看 mysql 启动时的日志，可以执行 docker container logs mysql 这个指令。</p>\n<h4 id=\"第七步查看docker启动的服务\"><a class=\"markdownIt-Anchor\" href=\"#第七步查看docker启动的服务\">#</a> 第七步：查看 docker 启动的服务</h4>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">docker</span> <span class=\"token function\">ps</span></pre></td></tr></table></figure><h4 id=\"第八步进入容器-退出容器用exit\"><a class=\"markdownIt-Anchor\" href=\"#第八步进入容器-退出容器用exit\">#</a> 第八步：进入容器 (退出容器用 exit)</h4>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">sudo</span> <span class=\"token function\">docker</span> <span class=\"token builtin class-name\">exec</span> <span class=\"token parameter variable\">-it</span> mysql <span class=\"token function\">bash</span></pre></td></tr></table></figure><h4 id=\"第九步登陆默认密码root一定要先进入mysql容器\"><a class=\"markdownIt-Anchor\" href=\"#第九步登陆默认密码root一定要先进入mysql容器\">#</a> 第九步：登陆 (默认密码 root)，一定要先进入 mysql 容器。</h4>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>mysql <span class=\"token parameter variable\">-uroot</span> <span class=\"token parameter variable\">-proot</span></pre></td></tr></table></figure><h4 id=\"第十步设置mysql开机自启动可选\"><a class=\"markdownIt-Anchor\" href=\"#第十步设置mysql开机自启动可选\">#</a> 第十步：设置 mysql 开机自启动（可选）</h4>\n<figure class=\"highlight ini\"><figcaption data-lang=\"ini\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token key attr-name\">docker update mysql --restart</span><span class=\"token punctuation\">=</span><span class=\"token value attr-value\">always</span></pre></td></tr></table></figure><p>如何重启 mysql 服务？</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">docker</span> restart mysql</pre></td></tr></table></figure><p>查看 MySQL 安装到哪了？</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">whereis</span> mysql</pre></td></tr></table></figure><p>连接 MySQL 时要注意</p>\n<p>第一步：关闭 linux 宿主机的防火墙 (假如直击连接), 命令忘了可以通过搜索引擎查。</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">sudo</span> systemctl stop firewalld.service</pre></td></tr></table></figure><p>第二步：重启 docker</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">sudo</span> systemctl restart <span class=\"token function\">docker</span></pre></td></tr></table></figure><p>第三步：启动 mysql</p>\n<figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>docker <span class=\"token keyword\">start</span> mysql</pre></td></tr></table></figure><h3 id=\"navacat连接mysql\"><a class=\"markdownIt-Anchor\" href=\"#navacat连接mysql\">#</a> Navacat 连接 MySQL</h3>\n<p>连接 mysql 如果遇到以下问题可以这样解决</p>\n<p>问题描述：</p>\n<figure class=\"highlight arduino\"><figcaption data-lang=\"arduino\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token number\">1251</span><span class=\"token operator\">-</span>client does <span class=\"token operator\">not</span> support authentication protocol requesred by server<span class=\"token punctuation\">;</span>consider upgrading MySQL <span class=\"token builtin\">Client</span></pre></td></tr></table></figure><p>解决办法：</p>\n<h4 id=\"1mysql容器内部\"><a class=\"markdownIt-Anchor\" href=\"#1mysql容器内部\">#</a> （1）mysql 容器内部</h4>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">sudo</span> <span class=\"token function\">docker</span> <span class=\"token builtin class-name\">exec</span> <span class=\"token parameter variable\">-it</span> mysql <span class=\"token function\">bash</span></pre></td></tr></table></figure><h4 id=\"2进入mysql\"><a class=\"markdownIt-Anchor\" href=\"#2进入mysql\">#</a> （2）进入 mysql</h4>\n<figure class=\"highlight css\"><figcaption data-lang=\"CSS\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>mysql -u root -p root</pre></td></tr></table></figure><p>输入密码 root</p>\n<h4 id=\"3使用mysql数据库\"><a class=\"markdownIt-Anchor\" href=\"#3使用mysql数据库\">#</a> （3）使用 mysql 数据库</h4>\n<figure class=\"highlight perl\"><figcaption data-lang=\"perl\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">use</span> user</pre></td></tr></table></figure><h4 id=\"4查看用户信息\"><a class=\"markdownIt-Anchor\" href=\"#4查看用户信息\">#</a> （4）查看用户信息</h4>\n<figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">select</span> host<span class=\"token punctuation\">,</span><span class=\"token keyword\">user</span><span class=\"token punctuation\">,</span>plugin<span class=\"token punctuation\">,</span>authentication_string <span class=\"token keyword\">from</span> mysql<span class=\"token punctuation\">.</span><span class=\"token keyword\">user</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><p>备注：host 为 % 表示不限制 ip localhost 表示本机使用 plugin 非 mysql_native_password 则需要修改密码</p>\n<h4 id=\"5修改用户密码\"><a class=\"markdownIt-Anchor\" href=\"#5修改用户密码\">#</a> （5）修改用户密码</h4>\n<figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">ALTER</span> <span class=\"token keyword\">USER</span> <span class=\"token string\">'root'</span><span class=\"token variable\">@'%'</span> IDENTIFIED <span class=\"token keyword\">WITH</span> mysql_native_password <span class=\"token keyword\">BY</span> <span class=\"token string\">'123456'</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><h4 id=\"6更新user为roothost为-的密码为123456\"><a class=\"markdownIt-Anchor\" href=\"#6更新user为roothost为-的密码为123456\">#</a> （6）更新 user 为 root，host 为 % 的密码为 123456</h4>\n<figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">ALTER</span> <span class=\"token keyword\">USER</span> <span class=\"token string\">'root'</span><span class=\"token variable\">@'localhost'</span> IDENTIFIED <span class=\"token keyword\">WITH</span> mysql_native_password <span class=\"token keyword\">BY</span> <span class=\"token string\">'123456'</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><p>更新 user 为 root，host 为 localhost 的密码为 123456</p>\n<h4 id=\"7再次连接即可成功\"><a class=\"markdownIt-Anchor\" href=\"#7再次连接即可成功\">#</a> （7）再次连接即可成功！</h4>\n",
            "tags": [
                "知识点",
                "系统配置",
                "MySQL安装",
                "docker"
            ]
        },
        {
            "id": "https://kls.red/posts/6a31c4a2.html",
            "url": "https://kls.red/posts/6a31c4a2.html",
            "title": "Debian 10/11更换国内源，解决系统无法更新问题",
            "date_published": "2023-07-04T00:17:06.000Z",
            "content_html": "<h5 id=\"1-备份现有源\"><a class=\"markdownIt-Anchor\" href=\"#1-备份现有源\">#</a> 1、备份现有源</h5>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">sudo</span> <span class=\"token function\">cp</span> /etc/apt/sources.list /etc/apt/sources.list_bak</pre></td></tr></table></figure><h5 id=\"2-一般情况下将-etcaptsourceslist-文件中-debian-默认的源地址-httpdebdebianorg-替换为国内源即可\"><a class=\"markdownIt-Anchor\" href=\"#2-一般情况下将-etcaptsourceslist-文件中-debian-默认的源地址-httpdebdebianorg-替换为国内源即可\">#</a> 2、一般情况下，将 /etc/apt/sources.list 文件中 Debian 默认的源地址 <span class=\"exturl\" data-url=\"aHR0cDovL2RlYi5kZWJpYW4ub3JnLw==\">http://deb.debian.org/</span> 替换为国内源即可。</h5>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">#中国科技大学</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">sudo</span> <span class=\"token function\">sed</span> <span class=\"token parameter variable\">-i</span> <span class=\"token string\">'s/deb.debian.org/mirrors.ustc.edu.cn/g'</span>/etc/apt/sources.list</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">#网易云 163</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token function\">sudo</span> <span class=\"token function\">sed</span> <span class=\"token parameter variable\">-i</span> <span class=\"token string\">'s/deb.debian.org/mirrors.163.com/g'</span>/etc/apt/sources.list</pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\">#阿里云</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token function\">sudo</span> <span class=\"token function\">sed</span> <span class=\"token parameter variable\">-i</span> <span class=\"token string\">'s/deb.debian.org/mirrors.aliyun.com/g'</span>/etc/apt/sources.list</pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token comment\">#清华同方</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token function\">sudo</span> <span class=\"token function\">sed</span> <span class=\"token parameter variable\">-i</span> <span class=\"token string\">'s/deb.debian.org/mirrors.tuna.tsinghua.edu.cn/g'</span>/etc/apt/sources.list</pre></td></tr></table></figure><h5 id=\"3-sudo-apt-get-update-更新索引以生效\"><a class=\"markdownIt-Anchor\" href=\"#3-sudo-apt-get-update-更新索引以生效\">#</a> 3、 <code>sudo apt-get update </code> 更新索引以生效。</h5>\n",
            "tags": [
                "知识点",
                "系统配置",
                "Linux",
                "Debian更换国内源"
            ]
        },
        {
            "id": "https://kls.red/posts/a42a1d2d.html",
            "url": "https://kls.red/posts/a42a1d2d.html",
            "title": "Screen 安装与实际使用命令",
            "date_published": "2023-07-04T00:10:46.000Z",
            "content_html": "<p>Screen 是一个在 Linux 系统下非常有用的终端工具，它可以在单个终端会话中创建多个虚拟终端，并且可以在后台运行终端会话。这篇文章将向您介绍如何在 Linux 系统中使用 Screen 工具，并提供一些实用的示例。</p>\n<h2 id=\"安装-screen\"><a class=\"markdownIt-Anchor\" href=\"#安装-screen\">#</a> <strong>安装 Screen</strong></h2>\n<p>在大多数 Linux 发行版中，您可以使用系统自带的包管理器来安装 Screen。例如，在 Ubuntu 中，可以使用以下命令来安装 Screen：</p>\n<ul>\n<li>centos</li>\n</ul>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>yun <span class=\"token function\">install</span> <span class=\"token function\">screen</span></pre></td></tr></table></figure><ul>\n<li>ubuntu/debian</li>\n</ul>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">sudo</span> <span class=\"token function\">apt-get</span> <span class=\"token function\">install</span> <span class=\"token function\">screen</span></pre></td></tr></table></figure><h2 id=\"基本使用\"><a class=\"markdownIt-Anchor\" href=\"#基本使用\">#</a> <strong>基本使用</strong></h2>\n<p>使用 Screen 最基本的命令是  <code>screen</code> ，它可以创建一个新的终端会话。当您运行这个命令时，Screen 会在当前终端中创建一个新的虚拟终端，并进入到这个终端中。您可以在这个终端中运行任何命令，就像在普通的终端中一样。</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">screen</span></pre></td></tr></table></figure><p>要退出当前的 Screen 会话，可以使用  <code>exit</code>  命令或者按下  <code>Ctrl</code>  +  <code>a</code> ，然后再按下  <code>d</code>  键。这样会将当前的 Screen 会话移动到后台，并返回到原来的终端中。</p>\n<p>如果您想重新进入一个已经存在的 Screen 会话，可以使用  <code>screen -r</code>  命令，并指定会话的 ID 或名称。例如，要重新进入 ID 为 12345 的 Screen 会话，可以使用以下命令：</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">screen</span> <span class=\"token parameter variable\">-r</span> <span class=\"token number\">12345</span></pre></td></tr></table></figure><h2 id=\"创建窗口和面板\"><a class=\"markdownIt-Anchor\" href=\"#创建窗口和面板\">#</a> <strong>创建窗口和面板</strong></h2>\n<p>在 Screen 会话中，您可以创建多个窗口和面板，以便在同一个终端会话中同时运行多个程序。</p>\n<p>要创建一个新窗口，请使用  <code>Ctrl</code>  +  <code>a</code> ，然后再按下  <code>c</code>  键。这样会在当前的 Screen 会话中创建一个新窗口，并将光标移动到这个窗口中。您可以在这个窗口中运行任何命令，就像在一个新的终端中一样。</p>\n<p>要在当前的窗口中创建一个新的面板，请使用  <code>Ctrl</code>  +  <code>a</code> ，然后再按下  <code>|</code>  或  <code>%</code>  键。这样会将当前的窗口分成两个部分，并在其中一个部分中创建一个新面板。您可以在这个新面板中运行任何命令，就像在一个新的终端中一样。</p>\n<h2 id=\"列出会话\"><a class=\"markdownIt-Anchor\" href=\"#列出会话\">#</a> <strong>列出会话</strong></h2>\n<p>要列出所有正在运行的 Screen 会话，可以使用  <code>screen -ls</code>  命令。这个命令会显示所有正在运行的 Screen 会话的 ID、名称和状态。</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">screen</span> <span class=\"token parameter variable\">-ls</span></pre></td></tr></table></figure><h2 id=\"断开会话\"><a class=\"markdownIt-Anchor\" href=\"#断开会话\">#</a> <strong>断开会话</strong></h2>\n<p>要完全断开一个 Screen 会话，可以使用  <code>screen -X -S session_id quit</code>  命令，其中  <code>session_id</code>  是会话的 ID 或名称。这个命令会强制关闭这个会话，并杀死会话中的所有进程。请注意，这个命令会立即关闭会话，而不会给进程任何时间来进行清理工作。因此，在使用这个命令之前，请确保您已经保存了所有的数据并且没有未完成的操作。</p>\n<h2 id=\"其他命令\"><a class=\"markdownIt-Anchor\" href=\"#其他命令\">#</a> <strong>其他命令</strong></h2>\n<p>以下是一些其他常用的 Screen 命令：</p>\n<ul>\n<li><code>Ctrl</code>  +  <code>a</code> ，然后再按下  <code>n</code>  键：切换到下一个窗口。</li>\n<li><code>Ctrl</code>  +  <code>a</code> ，然后再按下  <code>p</code>  键：切换到上一个窗口。</li>\n<li><code>Ctrl</code>  +  <code>a</code> ，然后再按下  <code>d</code>  键：将当前的 Screen 会话移动到后台。</li>\n<li><code>Ctrl</code>  +  <code>a</code> ，然后再按下  <code>?</code>  键：显示所有可用的 Screen 命令。</li>\n</ul>\n<h2 id=\"示例\"><a class=\"markdownIt-Anchor\" href=\"#示例\">#</a> <strong>示例</strong></h2>\n<p>以下是一个使用 Screen 的示例：</p>\n<ol>\n<li>在终端中运行  <code>screen</code>  命令，创建一个新的 Screen 会话。</li>\n<li>在新的 Screen 会话中运行  <code>top</code>  命令，查看系统资源使用情况。</li>\n<li>使用  <code>Ctrl</code>  +  <code>a</code> ，然后再按下  <code>c</code>  键，创建一个新窗口。</li>\n<li>在新的窗口中运行  <code>ping www.google.com</code>  命令，测试网络连接。</li>\n<li>使用  <code>Ctrl</code>  +  <code>a</code> ，然后再按下  <code>%</code>  键，将当前的窗口分成两个面板。</li>\n<li>在新的面板中运行  <code>htop</code>  命令，查看系统资源使用情况。</li>\n<li>使用  <code>Ctrl</code>  +  <code>a</code> ，然后再按下  <code>n</code>  键，切换到下一个窗口。</li>\n<li>使用  <code>Ctrl</code>  +  <code>a</code> ，然后再按下  <code>d</code>  键，将 Screen 会话移动到后台。</li>\n<li>使用  <code>screen -ls</code>  命令，查看所有正在运行的 Screen 会话。</li>\n<li>使用  <code>screen -r</code>  命令，重新进入之前创建的 Screen 会话。</li>\n</ol>\n<p>以上示例展示了如何在一个 Screen 会话中同时运行多个程序，并在不同的窗口和面板中查看它们的输出。您可以根据自己的需求，使用 Screen 来管理终端会话，提高工作效率。</p>\n",
            "tags": [
                "知识点",
                "系统配置",
                "Linux",
                "远程ssh",
                "后台运行"
            ]
        },
        {
            "id": "https://kls.red/posts/8976dd96.html",
            "url": "https://kls.red/posts/8976dd96.html",
            "title": "Openwrt挂载网盘到本地教程",
            "date_published": "2023-07-04T00:04:00.000Z",
            "content_html": "<h4 id=\"项目地址\"><a class=\"markdownIt-Anchor\" href=\"#项目地址\">#</a> 项目地址</h4>\n<ul>\n<li><strong>docker 挂载云盘 [Clouddrive]</strong> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9odWIuZG9ja2VyLmNvbS9yL2Nsb3VkbmFzL2Nsb3VkZHJpdmU=\">https://hub.docker.com/r/cloudnas/clouddrive</span></li>\n<li><strong>Windows 版本</strong><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cubGFuem91Yi5jb20vYjA4eWt2ZDBoP3B3ZD1ocjR5\"> https://www.lanzoub.com/b08ykvd0h</span> 密码: hr4y</li>\n<li><strong>Clouddrive 2 版本</strong><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cubGFuem91Yi5jb20vYjA5MDE3ZW9iP3B3ZD0yaXUx\"> https://www.lanzoub.com/b09017eob</span> 密码：2iu1</li>\n</ul>\n<hr>\n<h4 id=\"演示过程视频\"><a class=\"markdownIt-Anchor\" href=\"#演示过程视频\">#</a> 演示过程视频</h4>\n<iframe width=\"100%\" height=\"480\" frameborder=\"0\" src=\"https://www.ixigua.com/iframe/7008135204053189157?autoplay=0\" referrerpolicy=\"unsafe-url\" allowfullscreen=\"\" __idm_id__=\"745473\" style=\"box-sizing: border-box; -webkit-text-stroke-width: 0.25px; -webkit-text-stroke-color: initial !important; color: rgb(170, 170, 170); font-family: &quot;Source Sans Pro&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft Yahei&quot;, SimSun, Helvetica, Arial, sans-serif, monospace; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; white-space: normal; background-color: rgb(33, 33, 33); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;\"></iframe>\n<hr>\n<h4 id=\"以下是结合开发者群和群友以及个人的搭建过程\"><a class=\"markdownIt-Anchor\" href=\"#以下是结合开发者群和群友以及个人的搭建过程\">#</a> 以下是结合开发者群和群友以及个人的搭建过程</h4>\n<p><strong>Cloud Drive 说明：</strong></p>\n<ul>\n<li><strong>理解一：</strong><br>\n　通过 Clouddrive 把网盘映射成本地磁盘直接使用，同时也提供一个统一的网盘浏览管理 web 界面</li>\n<li><strong>理解二：</strong><br>\n　Clouddrive 将云存储服务挂载为本地文件系统。</li>\n<li><strong>理解三：</strong><br>\n　linux 下安装 cloudnas，相当于是挂了一块硬盘到 linux 下，硬盘内容是 115，再装 jellyfin 也好 emby 也好，都相当于访问本地硬盘进行整理</li>\n</ul>\n<hr>\n<p><strong>Cloud Drive 功能：</strong></p>\n<ol>\n<li>可转存 (json，.txt，115://xxx) 类型的 sha1</li>\n<li>外网访问，分享功能，免登录</li>\n<li>支持对云盘文件夹重命名</li>\n<li>jellyfin 客户端，电脑、手机上的浏览器，或者 jellyfin app，或者 kodi 都行</li>\n</ol>\n<h4 id=\"配置过程\"><a class=\"markdownIt-Anchor\" href=\"#配置过程\">#</a> 配置过程</h4>\n<p><strong>ps:</strong></p>\n<p>​\t避坑 docker 安装空间不足，openwrt 一般只要不是自己 DIY 编译的很少有把 docker 分区编译够用的，只能通过挂载分区的方式来实现扩容。</p>\n<h4 id=\"避坑docker安装空间不足解决方法\"><a class=\"markdownIt-Anchor\" href=\"#避坑docker安装空间不足解决方法\">#</a> 避坑 docker 安装空间不足，解决方法</h4>\n<p><strong>1. 创建分区或者添加新分区</strong></p>\n<p><strong>一般添加的新的磁盘默认是看不到的，需要执行一下命令创建分区或者格式化成 ext4 才能在挂载点看到该分区。</strong></p>\n<p><strong>a. 查看当前系统所有硬盘及分区情况：fdisk -l</strong></p>\n<p><strong>b. 在指定的硬盘（例：/dev/sdb）上创建分区：fdisk /dev/sdb ， 根据提示进行下一步操作</strong></p>\n<p>如：查看帮助（h），新建分区（n），删除分区（d），查看分区情况（p）</p>\n<p><strong>c. 分区成功后，写分区表并退出（w）</strong></p>\n<p><strong>d. 对新建分区（例：/dev/sda1）进行格式化：mkfs.ext4 /dev/sdb1</strong><br>\n 由于我自己的是虚拟机的环境，就直接添加一个分区，格式化后直接挂载了，如果是单个物理盘，而且已经安装了 openwrt，请根据命令创建新分区，格式化 ext4 后挂载即可 &quot;</p>\n<p><a href=\"https://blog.kls.red/usr/uploads/2021/08/2235184609.png\"><img data-src=\"https://cdn.jsdelivr.net/gh/msmkls/photo@main/2235184609.png\" alt=\"ksvy7coj.png\"></a></p>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9ibG9nLmtscy5yZWQvdXNyL3VwbG9hZHMvMjAyMS8wOC8yMjM1MTg0NjA5LnBuZw==\">ksvy7coj.png</span></p>\n<ul>\n<li><strong>点击添加</strong></li>\n</ul>\n<p><a href=\"https://blog.kls.red/usr/uploads/2021/08/3766703343.png\"><img data-src=\"https://cdn.jsdelivr.net/gh/msmkls/photo@main/3766703343.png\" alt=\"ksvy9jws.png\"></a></p>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9ibG9nLmtscy5yZWQvdXNyL3VwbG9hZHMvMjAyMS8wOC8zNzY2NzAzMzQzLnBuZw==\">ksvy9jws.png</span></p>\n<ul>\n<li><strong>选择好分区和挂载目录，勾选上 启用此挂载点</strong></li>\n</ul>\n<p><a href=\"https://blog.kls.red/usr/uploads/2021/08/351942143.png\"><img data-src=\"https://cdn.jsdelivr.net/gh/msmkls/photo@main/351942143.png\" alt=\"ksvyb81d.png\"></a></p>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9ibG9nLmtscy5yZWQvdXNyL3VwbG9hZHMvMjAyMS8wOC8zNTE5NDIxNDMucG5n\">ksvyb81d.png</span></p>\n<p><strong>在高级选项里选择 ext4，点击 保存 &amp; 应用</strong></p>\n<p><strong>然后重启 openwrt，一定要重启，不然不生效<br>\n生效后如下</strong></p>\n<p><a href=\"https://blog.kls.red/usr/uploads/2021/08/2945243035.png\"><img data-src=\"https://cdn.jsdelivr.net/gh/msmkls/photo@main/2945243035.png\" alt=\"ksvyf83u.png\"></a></p>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9ibG9nLmtscy5yZWQvdXNyL3VwbG9hZHMvMjAyMS8wOC8yOTQ1MjQzMDM1LnBuZw==\">ksvyf83u.png</span></p>\n<p>把分区挂载到 opt 目录后，也就是 docker 的目录达到了扩容的目的</p>\n<hr>\n<p><strong>处理完扩容问题后，接下来进入安装阶段</strong></p>\n<p>通过 ssh 连接 openwrt 后</p>\n<p>开启 MountFlags</p>\n<figure class=\"highlight abap\"><figcaption data-lang=\"ABAP\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>mkdir -p /etc/systemd/system/docker<span class=\"token punctuation\">.</span>service<span class=\"token punctuation\">.</span>d/</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>cat &lt;&lt;EOF <span class=\"token operator\">></span> /etc/systemd/system/docker<span class=\"token punctuation\">.</span>service<span class=\"token punctuation\">.</span>d/clear_mount_propagation_flags<span class=\"token punctuation\">.</span>conf</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>[Service]</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>MountFlags=shared</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>EOF</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>mount --make<span class=\"token token-operator punctuation\">-</span>shared /opt</pre></td></tr></table></figure><p><strong>然后</strong></p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">#CD1:</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">docker</span> run <span class=\"token parameter variable\">-d</span> <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>      <span class=\"token parameter variable\">--name</span> clouddrive <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>      <span class=\"token parameter variable\">--restart</span> unless-stopped <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>      <span class=\"token parameter variable\">-v</span> /opt/CloudNAS:/CloudNAS:shared <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>      <span class=\"token parameter variable\">-v</span> /opt/Config:/Config <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>      <span class=\"token parameter variable\">--network</span> <span class=\"token function\">host</span> <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>      <span class=\"token parameter variable\">--pid</span> <span class=\"token function\">host</span> <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>     <span class=\"token parameter variable\">--privileged</span> <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>     <span class=\"token parameter variable\">--device</span> /dev/fuse:/dev/fuse <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>     cloudnas/clouddrive</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>     </pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token comment\">#CD2     </span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token function\">docker</span> run <span class=\"token parameter variable\">-d</span> <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>      <span class=\"token parameter variable\">--name</span> clouddrive <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>      <span class=\"token parameter variable\">--restart</span> unless-stopped <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>      <span class=\"token parameter variable\">--env</span> <span class=\"token assign-left variable\">CLOUDDRIVE_HOME</span><span class=\"token operator\">=</span>/Config <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>      <span class=\"token parameter variable\">-v</span> /opt/CloudNAS:/CloudNAS:shared <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>      <span class=\"token parameter variable\">-v</span> /opt/Config:/Config <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>      <span class=\"token parameter variable\">--network</span> <span class=\"token function\">host</span> <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>      <span class=\"token parameter variable\">--pid</span> <span class=\"token function\">host</span> <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>     <span class=\"token parameter variable\">--privileged</span> <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>     <span class=\"token parameter variable\">--device</span> /dev/fuse:/dev/fuse <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>     cloudnas/clouddrive2-unstable</pre></td></tr></table></figure><p>需要映射其他路径请参考官方 docker 说明</p>\n<hr>\n<p><strong>自此安装结束</strong><br>\n额，(⊙o⊙)… 这张图是挂载到局域网。。。。<br>\n<a href=\"https://blog.kls.red/usr/uploads/2021/08/3030487540.png\"><img data-src=\"https://cdn.jsdelivr.net/gh/msmkls/photo@main/3030487540.png\" alt=\"ksx34aij.png\">ksx34aij.png</a></p>\n<p><strong>然后输入 openwrt 地址加端口号注册或者登录即可</strong></p>\n<p><a href=\"https://blog.kls.red/usr/uploads/2021/08/2257722242.png\"><img data-src=\"https://cdn.jsdelivr.net/gh/msmkls/photo@main/2257722242.png\" alt=\"ksvzj7di.png\"></a></p>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9ibG9nLmtscy5yZWQvdXNyL3VwbG9hZHMvMjAyMS8wOC8yMjU3NzIyMjQyLnBuZw==\">ksvzj7di.png</span></p>\n<p><strong>阿里云和 115 网盘可通过扫码登录</strong></p>\n<p>登录好网盘账号以后，电脑可以通过网络共享访问，例如：\\192.168.1.1 把网盘映射到本地即可<br>\n<a href=\"https://blog.kls.red/usr/uploads/2021/08/3014131787.png\"><img data-src=\"https://cdn.jsdelivr.net/gh/msmkls/photo@main/3014131787.png\" alt=\"kszzv3g1.png\"></a></p>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9ibG9nLmtscy5yZWQvdXNyL3VwbG9hZHMvMjAyMS8wOC8zMDE0MTMxNzg3LnBuZw==\">kszzv3g1.png</span></p>\n<p><strong>重启路由 docker 启动失败解决</strong><br>\n找到系统 — 启动项 — 本地启动脚本（拉到最底部）<br>\n<a href=\"https://blog.kls.red/usr/uploads/2021/09/188294448.png\"><img data-src=\"https://cdn.jsdelivr.net/gh/msmkls/photo@main/188294448.png\" alt=\"ku2v2p3a.png\">ku2v2p3a.png</a><br>\n 按照上图，把下面参数填到指定位置，保存应用，重启即可！</p>\n<figure class=\"highlight abap\"><figcaption data-lang=\"ABAP\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>mount --make<span class=\"token token-operator punctuation\">-</span>shared /opt</pre></td></tr></table></figure><h4 id=\"如果操作中命令错误或者需要删除可以用以下命令\"><a class=\"markdownIt-Anchor\" href=\"#如果操作中命令错误或者需要删除可以用以下命令\">#</a> 如果操作中命令错误或者需要删除可以用以下命令。</h4>\n<p>ps：如果多容器请安需删除，删除其一，请注意不要使用全部删除</p>\n<p><strong>查看运行中的容器</strong></p>\n<figure class=\"highlight abap\"><figcaption data-lang=\"ABAP\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>docker ps</pre></td></tr></table></figure><p><strong>进入容器</strong></p>\n<figure class=\"highlight abap\"><figcaption data-lang=\"ABAP\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>docker <span class=\"token keyword\">exec</span> -i -t containerId /bin/bash</pre></td></tr></table></figure><p><strong>查看容器</strong></p>\n<figure class=\"highlight abap\"><figcaption data-lang=\"ABAP\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>docker ps -a</pre></td></tr></table></figure><p><strong>启动指定容器 containerId 是容器的 ID</strong></p>\n<figure class=\"highlight abap\"><figcaption data-lang=\"ABAP\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>docker start containerId</pre></td></tr></table></figure><p><strong>停止指定容器 containerId 是容器的 ID</strong></p>\n<figure class=\"highlight abap\"><figcaption data-lang=\"ABAP\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>docker <span class=\"token keyword\">stop</span> containerId</pre></td></tr></table></figure><p><strong>删除指定容器 containerId 是容器的 ID</strong></p>\n<figure class=\"highlight abap\"><figcaption data-lang=\"ABAP\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>docker rm containerId</pre></td></tr></table></figure><p><strong>查看镜像列表</strong></p>\n<figure class=\"highlight abap\"><figcaption data-lang=\"ABAP\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>docker images</pre></td></tr></table></figure><p><strong>删除指定镜像 ImageId 是镜像的 Id</strong></p>\n<figure class=\"highlight abap\"><figcaption data-lang=\"ABAP\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>docker rmi ImageId</pre></td></tr></table></figure><h2 id=\"慎用以下全部命令\"><a class=\"markdownIt-Anchor\" href=\"#慎用以下全部命令\">#</a> 慎用以下全部命令</h2>\n<p>删除全部容器和镜像命令<br>\n列出所有的容器 ID</p>\n<figure class=\"highlight abap\"><figcaption data-lang=\"ABAP\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>docker ps -aq</pre></td></tr></table></figure><p>停止所有的容器</p>\n<figure class=\"highlight abap\"><figcaption data-lang=\"ABAP\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>docker <span class=\"token keyword\">stop</span> $<span class=\"token punctuation\">(</span>docker ps -aq<span class=\"token punctuation\">)</span></pre></td></tr></table></figure><p>删除所有的容器</p>\n<figure class=\"highlight abap\"><figcaption data-lang=\"ABAP\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>docker rm $<span class=\"token punctuation\">(</span>docker ps -aq<span class=\"token punctuation\">)</span></pre></td></tr></table></figure><p>删除所有的镜像</p>\n<figure class=\"highlight abap\"><figcaption data-lang=\"ABAP\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>docker rmi $<span class=\"token punctuation\">(</span>docker images -q<span class=\"token punctuation\">)</span>  </pre></td></tr><tr><td data-num=\"2\"></td><td><pre>docker image prune --force --all或者docker image prune -f -a <span class=\"token punctuation\">:</span> 删除所有不使用的镜像  </pre></td></tr><tr><td data-num=\"3\"></td><td><pre>docker container prune<span class=\"token punctuation\">:</span> 删除所有停止的容器</pre></td></tr></table></figure><h4 id=\"115网盘也可以通过cookie登录\"><a class=\"markdownIt-Anchor\" href=\"#115网盘也可以通过cookie登录\">#</a> 115 网盘也可以通过 cookie 登录</h4>\n<p><strong>1. 安装扩展</strong></p>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9jaHJvbWUuZ29vZ2xlLmNvbS93ZWJzdG9yZS9kZXRhaWwvZWRpdHRoaXNjb29raWUvZm5nbWhubnBpbGhwbGFlZWRpZmhjY2Nlb21jbGdmYmc=\">editthiscookie</span></p>\n<p><strong>Chrome 浏览器也可通过手机 115 扫码登录 115 账号</strong></p>\n<p><strong>2.cookie 设置及导出</strong></p>\n<p><a href=\"https://blog.kls.red/usr/uploads/2021/08/1567063412.png\"><img data-src=\"https://cdn.jsdelivr.net/gh/msmkls/photo@main/1567063412.png\" alt=\"ksvxff3d.png\"></a></p>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9ibG9nLmtscy5yZWQvdXNyL3VwbG9hZHMvMjAyMS8wOC8xNTY3MDYzNDEyLnBuZw==\">ksvxff3d.png</span></p>\n<p><a href=\"https://blog.kls.red/usr/uploads/2021/08/4002346094.png\"><img data-src=\"https://cdn.jsdelivr.net/gh/msmkls/photo@main/4002346094.png\" alt=\"ksvxgj1t.png\">ksvxgj1t.png</a><br>\n<a href=\"https://blog.kls.red/usr/uploads/2021/08/2378801036.png\"><img data-src=\"https://cdn.jsdelivr.net/gh/msmkls/photo@main/2378801036.png\" alt=\"ksvxh6ka.png\">ksvxh6ka.png</a></p>\n<p>PC:(浏览器建议 chrome，edge，firefox 最新版，不支持 ie 和 115 浏览器)</p>\n<h4 id=\"小白疑问\"><a class=\"markdownIt-Anchor\" href=\"#小白疑问\">#</a> 小白疑问：</h4>\n<p><strong>1.cloudnas 的设计初衷</strong></p>\n<p>cloudnas 的设计初衷是不用下载直接使用的，为在线随机访问文件做了优化，没对下载进行优化。你可以试试不拷贝，直接访问。</p>\n<p><strong>2. 分享出去给别人看会封号吗</strong></p>\n<p>别人访问你的分享看视频的时候，流量是从 115 到你的服务器，再走你的上行带宽到访问者，不会把 115 的直链分享出去</p>\n<p><strong>3. 可否多台设备运行多个 clouddrive？</strong></p>\n<p>这种玩法需要注意一下 115 的异地登录风险，尽量不要异地登录</p>\n<p><strong>4. 何为彻底退出 Cloud Drive ？</strong></p>\n<p>右上角账号那的退出按钮</p>\n<p><strong>5. 可异地登陆否？</strong></p>\n<p>NO! 尽量不要异地运行多个 cloudnas 服务，跑同一个 115 账号。异地访问同一个 cloudnas 服务器没问题，这受控于网盘安全登录，例如：阿里云可在单账号允许 5 个设备登录这种，115 的受限于官方风控。</p>\n<p><strong>6.Cloud Drive 支持生成 115sha1 吗？</strong></p>\n<p>不支持生成 115sha1</p>\n<p><strong>7. 想不起来密码？</strong></p>\n<p>后续会增加重设密码，但是云端不会保存密码，只保存密码的 md5，所以不会有找回密码的功能，另外需要说明，云盘账号信息是用你自己的密码加密的保存的，所以你忘记了密码的话，云盘账号也就无法找回了，需要重新设置，重置密码之后，所有云盘都需要重新登录了，我们没办法帮你找回你的云盘信息，基于这个考虑，我觉得找回密码其实没有太大意义，找回以后也得从头来过。实在想不起来密码的话，换个邮箱注册也是一样的。所以密码重置功能没有放到很高优先级</p>\n<p><strong>8. 可否加入百度网盘？</strong></p>\n<p>NO 百度网盘以前做过，后来他们改了接口，还抓了做 pandownload 的作者，我就不想碰了</p>\n<p><strong>9. 挂载不上？</strong></p>\n<p>换个盘符试试，要不重启一下服务看看<br>\n windows 服务管理里面，重启名为 CloudDriveService 的服务<br>\n刚安装登录就挂不上？从这里下载 winfsp 安装包手动安装一次试试<br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2JpbGx6aXNzLWdoL3dpbmZzcC9yZWxlYXNlcy9kb3dubG9hZC92MS45L3dpbmZzcC0xLjkuMjEwOTYubXNp\"> Test</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2JpbGx6aXNzLWdoL3dpbmZzcC9yZWxlYXNlcy9kb3dubG9hZC92MS45L3dpbmZzcC0xLjkuMjEwOTYubXNp\">https://github.com/billziss-gh/winfsp/releases/download/v1.9/winfsp-1.9.21096.msi</span></p>\n<p><strong>10.clouddrive 支持续传否？</strong></p>\n<p>现在的版本 115 已经支持续传了 (大佬很给力)</p>\n<p><strong>11. 从映射盘拷贝 115 文件速度</strong></p>\n<p>速度 3M-5M (群友实测) 单线程单文件速度</p>\n<p><strong>12. 内存空间占用？</strong></p>\n<p>在访问网盘上的文件时，clouddrive 确实在通过网络下载，但是数据放在内存里，不会占用本地空间</p>\n<p><strong>13.win 挂载 115 网盘后资源管理器经常无响应</strong></p>\n<p>windows 文件管理器默认会获取文件的缩略图，有大量图片的时候尤其慢，解决办法是把文件管理器改成详细列表显示，不让它去生成缩略图</p>\n<p><strong>14. 挂载速度慢？试试整个盘都用详细列表模式</strong></p>\n<p>windows 版各种问题都是文件管理器要去读文件缩略图造成的，整个盘都用详细列表模式就清净了<br>\n<a href=\"https://blog.kls.red/usr/uploads/2021/08/3834780039.png\"><img data-src=\"https://cdn.jsdelivr.net/gh/msmkls/photo@main/3834780039.png\" alt=\"ksvwv4v3.png\"></a></p>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9ibG9nLmtscy5yZWQvdXNyL3VwbG9hZHMvMjAyMS8wOC8zODM0NzgwMDM5LnBuZw==\">ksvwv4v3.png</span></p>\n<p>最好把整个盘都设置成常规项目，省得文件管理器去读取图片视频音频的元数据</p>\n<p><strong>15.115 挂载本地，速度？</strong></p>\n<p>本地网速够的话，看 4K 蓝光没问题</p>\n<p><strong>16.115 挂载目录里复制到本地速度</strong></p>\n<p>单线程速度 6~8M/s 校验速度比 115 浏览器快不少</p>\n<p><strong>17. 原盘播放效果</strong></p>\n<p>取决于本地速度，网盘速度没问题</p>\n<p><strong>18. 系统设置相关选项作用？</strong></p>\n<p><a href=\"https://blog.kls.red/usr/uploads/2021/08/4207180390.png\"><img data-src=\"https://cdn.jsdelivr.net/gh/msmkls/photo@main/4207180390.png\" alt=\"ksvx1isr.png\"></a></p>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9ibG9nLmtscy5yZWQvdXNyL3VwbG9hZHMvMjAyMS8wOC80MjA3MTgwMzkwLnBuZw==\">ksvx1isr.png</span></p>\n<p>这里大部分都是内部调试用，最好不要乱改，第一个可以试试，如果去掉的话，不会自动从云盘刷新目录，曾经打开过的文件夹再打开会非常快，但是从别的终端修改过的内容就看不到了，除非手动点 web 界面的刷新按钮</p>\n<p><strong>19. 挂载设置里点击卸载按钮后，刷新不出页面？</strong></p>\n<p>重新安装一遍就行了！</p>\n<p><strong>20.115 批量导入秒传失败？</strong></p>\n<p>应该排查权限的问题，CloudDrive 的路径默认都是对所有人有权限的，选不出来但是直接输入路径有效，说明 mount CloudDrive 的上级目录有权限<br>\n 115 对秒传请求进行了限速，导致批量导入失败，临时解决方法是在系统设置里把 MaxPreprocessTasks 设为 1</p>\n<h5 id=\"其他\"><a class=\"markdownIt-Anchor\" href=\"#其他\">#</a> 其他：</h5>\n<p>1. 有些系统 SYS_ADMIN 权限不足，需要 privileged 权限</p>\n<p>2. 群晖 docker 上 mount 出来的 CloudNAS 目录，可以直接 samba 分享给局域网使用</p>\n<p>3. 文件夹下载建议直接用 samba 共享出来，自己在系统文件管理器里 ctrl-c, ctrl-v</p>\n<p>4. 左键单击 (<span class=\"exturl\" data-url=\"aHR0cHM6Ly90Lm1lL2Nsb3VkbmFzY2hhdC85NDc=\">https://t.me/cloudnaschat/947</span>) 文件，可直接下载<br>\n<a href=\"https://blog.kls.red/usr/uploads/2021/08/1045952169.png\"><img data-src=\"https://cdn.jsdelivr.net/gh/msmkls/photo@main/1045952169.png\" alt=\"ksvx5q2u.png\"></a></p>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9ibG9nLmtscy5yZWQvdXNyL3VwbG9hZHMvMjAyMS8wOC8xMDQ1OTUyMTY5LnBuZw==\">ksvx5q2u.png</span></p>\n<p>6.Dropextract，Dropshare 这两个有隐藏功能……</p>\n<ol>\n<li>8 月 4 日 115 妙传限速解决方法<br>\n 115 对秒传请求进行了限速，导致批量导入失败，临时解决方法是在系统设置里把 MaxPreprocessTasks 设为 1</li>\n</ol>\n<p>如果有其他问题或建议，欢迎飞机联系开发作者<br>\n<strong>作者电报群：<span class=\"exturl\" data-url=\"aHR0cHM6Ly90Lm1lL2Nsb3VkbmFzY2hhdA==\">https://t.me/cloudnaschat</span></strong></p>\n",
            "tags": [
                "食用系列",
                "openwrt",
                "clouddrive"
            ]
        },
        {
            "id": "https://kls.red/posts/6346bbd.html",
            "url": "https://kls.red/posts/6346bbd.html",
            "title": "clouddrive在linux（云主机/vps）下挂载过程",
            "date_published": "2023-07-03T09:12:24.000Z",
            "content_html": "<h4 id=\"基本环境\"><a class=\"markdownIt-Anchor\" href=\"#基本环境\">#</a> 基本环境</h4>\n<p><strong>ps：</strong></p>\n<ul>\n<li>VPS（这里指的是网站服务器）或者本地计算机、虚拟机下的 linux 系统：Ubuntu、centos、Debian… 等 借助工具：docker （这里以宝塔面板为基础的图形界面，虽然熟悉后不怎么用，但方便初接触者）</li>\n<li>挂载到网站服务器上，clouddrive 不像其他挂载工具那样，只是分享下载，clouddrive 更纯粹，你可以把它理解成真实的硬盘，如果你 PHP 基础比较好，可以结合给视频站或下载站等使用，这里不多做赘述。</li>\n<li>这里有个问题挂载服务器应当遵守网盘使用条款使用，如果把阿里云盘挂载到其他国家的云服务器上，可能会触发账号的使用机制，阿里云盘条款不允许国外使用，如果在国外云主机使用可能会刷不出来二维码或登录不上，像 115 网盘可能会触发异地登录等风险，只要在国内包括香港，都没什么大问题）</li>\n</ul>\n<p>以下演示仅供初步接触者参考使用，大佬请略过即可，较真抬杠的请进群找大佬们，谢谢支持！</p>\n<h4 id=\"docker项目地址\"><a class=\"markdownIt-Anchor\" href=\"#docker项目地址\">#</a> Docker 项目地址</h4>\n<ul>\n<li>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9odWIuZG9ja2VyLmNvbS9yL2Nsb3VkbmFzL2Nsb3VkZHJpdmU=\">cloudnas/clouddrive</span></p>\n</li>\n<li>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9odWIuZG9ja2VyLmNvbS9yL2Nsb3VkbmFzL2Nsb3VkZHJpdmUyLXVuc3RhYmxl\">clouddrive2-unstable</span></p>\n</li>\n</ul>\n<h4 id=\"docker部署命令\"><a class=\"markdownIt-Anchor\" href=\"#docker部署命令\">#</a> Docker 部署命令</h4>\n<ol>\n<li>根据 clouddrive 的命令，在 ssh 输入命令</li>\n</ol>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">mkdir</span> <span class=\"token parameter variable\">-p</span> /etc/systemd/system/docker.service.d/</pre></td></tr></table></figure><ul>\n<li>接着</li>\n</ul>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">cat</span> <span class=\"token operator\">&lt;&lt;</span><span class=\"token string\">EOF<span class=\"token bash punctuation\"> <span class=\"token operator\">></span> /etc/systemd/system/docker.service.d/clear_mount_propagation_flags.conf</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>[Service]</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>MountFlags=shared</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>EOF</span></pre></td></tr></table></figure><ul>\n<li>PS：执行完，没有任何提示就对了！</li>\n</ul>\n<ol>\n<li>拉取 clouddrive 镜像部署</li>\n</ol>\n<p>命令是结合 Ubuntu、centos、Debian 的相通目录结构 选择的目录为： <code>/mnt</code>  下 进行部署 为主机中的映射卷启用共享挂载 <code>mount --make-shared /</code></p>\n<figure class=\"highlight css\"><figcaption data-lang=\"CSS\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>mount --make-shared /</pre></td></tr></table></figure><ul>\n<li>Ps: 可以通过 <code>df -h</code>  命令查看宿主的挂载点，结合使用，例如我要挂载到 <code>/mnt</code>  这个目录下，挂载点在 <code>/</code>  目录下所以命令是上面的 <code>mount --make-shared /</code></li>\n<li>如果过挂在成功把上面这条命令加到开机执行，不然主机重启会导致挂载失败</li>\n</ul>\n<p><img data-src=\"https://img.kls.red/i/2023/07/03/zbf0gi-0.png\" alt=\"img\"></p>\n<ul>\n<li>\n<p>如果挂载到其他目录下面，把下面 <code>/mnt</code>  的路径 替换成你自己的即可</p>\n<p><strong>CD1：</strong></p>\n</li>\n</ul>\n<figure class=\"highlight lua\"><figcaption data-lang=\"lua\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>docker run <span class=\"token operator\">-</span>d \\</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>      <span class=\"token comment\">--name clouddrive \\</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>      <span class=\"token comment\">--restart unless-stopped \\</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>      <span class=\"token operator\">-</span>v <span class=\"token operator\">/</span>mnt<span class=\"token operator\">/</span>CloudNAS<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span>CloudNAS<span class=\"token punctuation\">:</span>shared \\</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>      <span class=\"token operator\">-</span>v <span class=\"token operator\">/</span>mnt<span class=\"token operator\">/</span>Config<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span>Config \\</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>      <span class=\"token comment\">--network host \\</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>      <span class=\"token comment\">--pid host \\</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>     <span class=\"token comment\">--privileged \\</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>     <span class=\"token comment\">--device /dev/fuse:/dev/fuse \\</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>     cloudnas<span class=\"token operator\">/</span>clouddrive</pre></td></tr></table></figure><p><strong>CD2：</strong></p>\n<figure class=\"highlight lua\"><figcaption data-lang=\"lua\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>docker run <span class=\"token operator\">-</span>d \\</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>      <span class=\"token comment\">--name clouddrive \\</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>      <span class=\"token comment\">--restart unless-stopped \\</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>      <span class=\"token comment\">--env CLOUDDRIVE_HOME=/Config \\</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>      <span class=\"token operator\">-</span>v <span class=\"token operator\">/</span>mnt<span class=\"token operator\">/</span>CloudNAS<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span>CloudNAS<span class=\"token punctuation\">:</span>shared \\</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>      <span class=\"token operator\">-</span>v <span class=\"token operator\">/</span>mnt<span class=\"token operator\">/</span>Config<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span>Config \\</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>      <span class=\"token comment\">--network host \\</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>      <span class=\"token comment\">--pid host \\</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>     <span class=\"token comment\">--privileged \\</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>     <span class=\"token comment\">--device /dev/fuse:/dev/fuse \\</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>     cloudnas<span class=\"token operator\">/</span>clouddrive2<span class=\"token operator\">-</span>unstable</pre></td></tr></table></figure><ul>\n<li>\n<p>执行之后没报错就说明部署成功了</p>\n<p>CD1 入口 IP:9798</p>\n<p>CD2 入口 IP:19798</p>\n</li>\n</ul>\n<h4 id=\"常见问题\"><a class=\"markdownIt-Anchor\" href=\"#常见问题\">#</a> 常见问题</h4>\n<p><strong>安装部署后报错</strong>  <code>Error response from daemon: Get https://registry-1.docker.io/v2/: Docker</code>  之类的：</p>\n<ol>\n<li>重新执行该命令重试，有时候是受代理环境或者网络原因造成的</li>\n<li>排除 DNS 解析的问题</li>\n</ol>\n<p><strong>部署后 ip:9798 无法访问</strong></p>\n<ol>\n<li>一种是防火墙放行指定端口</li>\n<li>暴力的方式是直接关闭防火墙命令</li>\n</ol>\n<ul>\n<li>虚拟机 &amp; 本地 linux 下解决方法： centos：停止 firewall 防火墙</li>\n</ul>\n<figure class=\"highlight vbnet\"><figcaption data-lang=\"VB.Net\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>systemctl <span class=\"token keyword\">stop</span> firewalld.service</pre></td></tr></table></figure><p>关闭开机启动 firewall 防火墙命令</p>\n<figure class=\"highlight vbnet\"><figcaption data-lang=\"VB.Net\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>systemctl <span class=\"token keyword\">stop</span> firewalld.service</pre></td></tr></table></figure><ul>\n<li>Ubuntu 关闭防火墙</li>\n</ul>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">sudo</span> ufw disable</pre></td></tr></table></figure><ul>\n<li>Debian 关闭防火墙</li>\n</ul>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>/etc/init.d/ufw stop</pre></td></tr></table></figure><p><strong>宝塔面板放行端口，具体百度即可</strong></p>\n<p><strong>vps 服务器可结合上面的方法，或者在安全组中放行 9897 端口，宝塔面板放行该端口</strong></p>\n",
            "tags": [
                "食用系列",
                "Linux",
                "clouddrive"
            ]
        },
        {
            "id": "https://kls.red/posts/9a43ef1.html",
            "url": "https://kls.red/posts/9a43ef1.html",
            "title": "X86 openwrt 如何将 CPU 模式设置为性能",
            "date_published": "2023-07-01T13:13:18.802Z",
            "content_html": "<h4 id=\"简述\"><a class=\"markdownIt-Anchor\" href=\"#简述\">#</a> <strong>简述</strong></h4>\n<p>很多人在编译后或者好不容易拿到符合自己需求的系统包后，体验一直上不去，甚至有些使用 j1900CPU 感觉还不如硬件路由</p>\n<p>例如，开网页加载慢半拍、视频加载速度上不去的感觉（特别是油管），很大的原因都是由省电模式导致的。</p>\n<p>CPU 频率在编译后，不做优化的情况下。</p>\n<p>性能模式一直是省电模式运行，特别对于硬件配置低、或高配硬件达不到应有体验</p>\n<p><strong>实例：处理器： 英特尔（R） 赛扬（R） J4125 CPU @ 2.00GHz</strong></p>\n<h4 id=\"通过\"><a class=\"markdownIt-Anchor\" href=\"#通过\">#</a> <strong>通过</strong></h4>\n<p>命令查询当前频率</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">cat</span> /proc/cpuinfo <span class=\"token operator\">|</span><span class=\"token function\">grep</span> MHz<span class=\"token operator\">|</span><span class=\"token function\">uniq</span></pre></td></tr></table></figure><h4 id=\"结果\"><a class=\"markdownIt-Anchor\" href=\"#结果\">#</a> <strong>结果</strong></h4>\n<p>为</p>\n<figure class=\"highlight yaml\"><figcaption data-lang=\"YAML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token key atrule\">cpu MHz</span>         <span class=\"token punctuation\">:</span> <span class=\"token number\">1201.146</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token key atrule\">cpu MHz</span>         <span class=\"token punctuation\">:</span> <span class=\"token number\">1200.982</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token key atrule\">cpu MHz</span>         <span class=\"token punctuation\">:</span> <span class=\"token number\">1200.165</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token key atrule\">cpu MHz</span>         <span class=\"token punctuation\">:</span> <span class=\"token number\">1200.076</span></pre></td></tr></table></figure><h4 id=\"命令\"><a class=\"markdownIt-Anchor\" href=\"#命令\">#</a> <strong>命令</strong></h4>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token builtin class-name\">cd</span> /sys/devices/system/cpu/</pre></td></tr></table></figure><p>通过上面命令可以看到核心数<br>\n例如： <code>cpu0 cpu1 cpu2 cpu3 ...</code></p>\n<h4 id=\"查询\"><a class=\"markdownIt-Anchor\" href=\"#查询\">#</a> <strong>查询</strong></h4>\n<p>查看当前运行 CPU 模式（这里是 CPU0 为例）</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">cat</span> /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor</pre></td></tr></table></figure><h4 id=\"结果-2\"><a class=\"markdownIt-Anchor\" href=\"#结果-2\">#</a> <strong>结果</strong></h4>\n<ul>\n<li>\n<p>powersave （节能模式）</p>\n</li>\n<li>\n<p>performance （性能模式）</p>\n<p>需要说明的是，这里的性能模式，一般是指高频空载，非满载模式，满载类似烤机那种，</p>\n<p>空载只是把 CPU 核心频率以最高频率运行任务，致使硬件性能最大化。</p>\n</li>\n</ul>\n<p>如果是节能模式，我们通过命令对每个核心做性能模式切换调整</p>\n<h4 id=\"调整命令参考\"><a class=\"markdownIt-Anchor\" href=\"#调整命令参考\">#</a> <strong>调整命令参考</strong></h4>\n<figure class=\"highlight ruby\"><figcaption data-lang=\"ruby\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>echo performance <span class=\"token operator\">>></span> <span class=\"token operator\">/</span>sys<span class=\"token operator\">/</span>devices<span class=\"token operator\">/</span>system<span class=\"token operator\">/</span>cpu<span class=\"token operator\">/</span>cpufreq<span class=\"token operator\">/</span>policy0<span class=\"token operator\">/</span>scaling_governor</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>echo performance <span class=\"token operator\">>></span> <span class=\"token operator\">/</span>sys<span class=\"token operator\">/</span>devices<span class=\"token operator\">/</span>system<span class=\"token operator\">/</span>cpu<span class=\"token operator\">/</span>cpufreq<span class=\"token operator\">/</span>policy1<span class=\"token operator\">/</span>scaling_governor</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>echo performance <span class=\"token operator\">>></span> <span class=\"token operator\">/</span>sys<span class=\"token operator\">/</span>devices<span class=\"token operator\">/</span>system<span class=\"token operator\">/</span>cpu<span class=\"token operator\">/</span>cpufreq<span class=\"token operator\">/</span>policy2<span class=\"token operator\">/</span>scaling_governor</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>echo performance <span class=\"token operator\">>></span> <span class=\"token operator\">/</span>sys<span class=\"token operator\">/</span>devices<span class=\"token operator\">/</span>system<span class=\"token operator\">/</span>cpu<span class=\"token operator\">/</span>cpufreq<span class=\"token operator\">/</span>policy3<span class=\"token operator\">/</span>scaling_governor</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>echo <span class=\"token number\">2700000</span> <span class=\"token operator\">></span> <span class=\"token operator\">/</span>sys<span class=\"token operator\">/</span>devices<span class=\"token operator\">/</span>system<span class=\"token operator\">/</span>cpu<span class=\"token operator\">/</span>cpufreq<span class=\"token operator\">/</span>policy0<span class=\"token operator\">/</span>scaling_min_freq</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>echo <span class=\"token number\">2700000</span> <span class=\"token operator\">></span> <span class=\"token operator\">/</span>sys<span class=\"token operator\">/</span>devices<span class=\"token operator\">/</span>system<span class=\"token operator\">/</span>cpu<span class=\"token operator\">/</span>cpufreq<span class=\"token operator\">/</span>policy1<span class=\"token operator\">/</span>scaling_min_freq</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>echo <span class=\"token number\">2700000</span> <span class=\"token operator\">></span> <span class=\"token operator\">/</span>sys<span class=\"token operator\">/</span>devices<span class=\"token operator\">/</span>system<span class=\"token operator\">/</span>cpu<span class=\"token operator\">/</span>cpufreq<span class=\"token operator\">/</span>policy2<span class=\"token operator\">/</span>scaling_min_freq</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>echo <span class=\"token number\">2700000</span> <span class=\"token operator\">></span> <span class=\"token operator\">/</span>sys<span class=\"token operator\">/</span>devices<span class=\"token operator\">/</span>system<span class=\"token operator\">/</span>cpu<span class=\"token operator\">/</span>cpufreq<span class=\"token operator\">/</span>policy3<span class=\"token operator\">/</span>scaling_min_freq</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>echo <span class=\"token number\">2700000</span> <span class=\"token operator\">></span> <span class=\"token operator\">/</span>sys<span class=\"token operator\">/</span>devices<span class=\"token operator\">/</span>system<span class=\"token operator\">/</span>cpu<span class=\"token operator\">/</span>cpufreq<span class=\"token operator\">/</span>policy0<span class=\"token operator\">/</span>scaling_min_freq</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>echo <span class=\"token number\">2700000</span> <span class=\"token operator\">></span> <span class=\"token operator\">/</span>sys<span class=\"token operator\">/</span>devices<span class=\"token operator\">/</span>system<span class=\"token operator\">/</span>cpu<span class=\"token operator\">/</span>cpufreq<span class=\"token operator\">/</span>policy1<span class=\"token operator\">/</span>scaling_min_freq</pre></td></tr><tr><td data-num=\"11\"></td><td><pre>echo <span class=\"token number\">2700000</span> <span class=\"token operator\">></span> <span class=\"token operator\">/</span>sys<span class=\"token operator\">/</span>devices<span class=\"token operator\">/</span>system<span class=\"token operator\">/</span>cpu<span class=\"token operator\">/</span>cpufreq<span class=\"token operator\">/</span>policy2<span class=\"token operator\">/</span>scaling_min_freq</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>echo <span class=\"token number\">2700000</span> <span class=\"token operator\">></span> <span class=\"token operator\">/</span>sys<span class=\"token operator\">/</span>devices<span class=\"token operator\">/</span>system<span class=\"token operator\">/</span>cpu<span class=\"token operator\">/</span>cpufreq<span class=\"token operator\">/</span>policy3<span class=\"token operator\">/</span>scaling_min_freq</pre></td></tr></table></figure><p><strong>其他系统上高性能模式，例如 centos 或 ubuntu</strong> <a href=\"http://xn--blog-9d0ix46agy8cj1fne.kls.red/\"><strong>转载请注明 blog.kls.red</strong></a> <strong>.</strong></p>\n",
            "tags": [
                "食用系列",
                "openwrt",
                "cpu高频空载模式"
            ]
        }
    ]
}